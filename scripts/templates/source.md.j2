# Build from Source

Build xcsh directly from source code.

## Prerequisites

Building from source requires:

| Requirement | Version | Check Command |
|-------------|---------|---------------|
| Node.js | {{ node_version or '18+' }} | `node --version` |
| npm | any | `npm --version` |
| Git | any | `git --version` |

{% if prereq_output %}
**Verify prerequisites:**

```text
{{ prereq_output }}
```
{% endif %}

## Clone Repository

```bash
git clone https://github.com/robinmordasiewicz/f5xc-xcsh.git
cd xcsh
```

{% if clone_output %}
**Example output:**

```text
{{ clone_output }}
```
{% endif %}

## Install Dependencies

```bash
npm ci
```

{% if install_output %}
**Example output:**

```text
{{ install_output }}
```
{% endif %}

## Build

```bash
npm run build
```

{% if build_output %}
**Example output:**

```text
{{ build_output }}
```
{% endif %}

## Verify Build

```bash
node dist/index.js --version
```

{% if version_output %}
**Example output:**

```text
{{ version_output }}
```

*Built from source on {{ generation_date }}*
{% else %}
Expected output shows the version number.
{% endif %}

## Run in Development Mode

For development with hot-reload:

```bash
npm run dev
```

## Install (Optional)

### Option 1: Link Globally

```bash
npm link
```

This creates a global `xcsh` command that points to your local build.

### Option 2: Build Standalone Binary

Build platform-specific standalone binaries:

```bash
npm run build:binaries
```

This creates executables in the `binaries/` directory for:

- Linux (x64, arm64)
- macOS (x64, arm64)
- Windows (x64, arm64)

Move the appropriate binary to your PATH:

=== "User Install"

    ```bash
    mkdir -p ~/.local/bin
    cp binaries/xcsh-macos-arm64 ~/.local/bin/xcsh
    chmod +x ~/.local/bin/xcsh
    ```

=== "System Install"

    ```bash
    sudo cp binaries/xcsh-macos-arm64 /usr/local/bin/xcsh
    sudo chmod +x /usr/local/bin/xcsh
    ```
