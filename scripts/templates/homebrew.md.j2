# Homebrew (macOS/Linux)

Install vesctl on macOS or Linux using Homebrew:

```bash
brew tap robinmordasiewicz/tap
brew install --cask vesctl
```

{% if install_output %}
**Example output:**

```text
{{ install_output }}
```

{% endif %}

**Upgrade to latest version:**

```bash
brew update
brew upgrade --cask vesctl
```

**Uninstall:**

```bash
brew uninstall --cask vesctl
```

## Shell Completions

The Homebrew cask includes shell completions for bash, zsh, and fish. These are installed automatically to Homebrew's managed directories.

=== "Zsh"

    Completions should work automatically if you have Homebrew's shell environment configured. Ensure your `~/.zshrc` contains:

    ```bash
    eval "$(brew shellenv)"
    ```

    If you're using Oh My Zsh, completions are enabled by default. Otherwise, add to your `~/.zshrc`:

    ```bash
    autoload -Uz compinit && compinit
    ```

    Restart your terminal and test with `vesctl <TAB>`.

=== "Bash"

    Install bash-completion if you haven't already:

    ```bash
    brew install bash-completion@2
    ```

    Add to your `~/.bash_profile` or `~/.bashrc`:

    ```bash
    [[ -r "$(brew --prefix)/etc/profile.d/bash_completion.sh" ]] && \
      . "$(brew --prefix)/etc/profile.d/bash_completion.sh"
    ```

    Restart your terminal and test with `vesctl <TAB>`.

=== "Fish"

    Completions work automatically if fish was installed via Homebrew.

    Test with `vesctl <TAB>`.

!!! tip "Troubleshooting Completions"
    If completions don't work after setup:

    1. Ensure you've restarted your terminal
    2. For zsh, try running `rm -f ~/.zcompdump*` then restart
    3. Verify completions are installed: `ls $(brew --prefix)/share/zsh/site-functions/_vesctl`

## Verify Installation

After installation, verify vesctl is working:

```bash
vesctl version
```

{% if version and commit and built %}
Expected output:

```text
vesctl version {{ version }}
  commit:   {{ commit }}
  built:    {{ built }}
  go:       {{ go_version if go_version else "go1.23.x" }}
  platform: {{ platform if platform else "darwin/arm64" }} [Possible values: linux/amd64,linux/arm64,darwin/amd64,darwin/arm64]
```
{% endif %}
