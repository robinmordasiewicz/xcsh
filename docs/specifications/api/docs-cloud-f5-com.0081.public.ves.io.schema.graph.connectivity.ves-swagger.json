{"openapi":"3.0.0","info":{"title":"F5 Distributed Cloud Services API for ves.io.schema.graph.connectivity","description":"Connectivity graph APIs are used to get the connectivity data between sites.\nResponse includes all the tenant's Customer Sites (CEs) and the Regional Sites (REs)\nto which the CEs are connected. Connectivity graph includes reachability between the sites\nand its corresponding latency and other information like tunnel throughput, CPU, memory and\ndisk utilization. It is always scoped by system namespace.","version":""},"paths":{"/api/data/namespaces/{namespace}/graph/connectivity":{"post":{"summary":"Connectivity Graph Query","description":"Request to get Connectivity data between the sites.","operationId":"ves.io.schema.graph.connectivity.CustomAPI.Query","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/connectivityResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"Namespace\n\nx-example: \"value\"\nThis request is supported only in system namespace.","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/connectivityRequest"}}},"required":true},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-graph-connectivity-customapi-query"},"x-ves-proto-rpc":"ves.io.schema.graph.connectivity.CustomAPI.Query"},"x-displayname":"Connectivity Graph","x-ves-proto-service":"ves.io.schema.graph.connectivity.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/data/namespaces/{namespace}/graph/connectivity/edge":{"post":{"summary":"Connectivity Edge Query","description":"Request to get Connectivity data for an edge.\nThis query is used to get time-series data for a given edge.","operationId":"ves.io.schema.graph.connectivity.CustomAPI.EdgeQuery","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/connectivityEdgeResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"namespace\n\nx-example: \"value\"\n\nThis request is supported only in system namespace.","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/connectivityEdgeRequest"}}},"required":true},"x-ves-proto-rpc":"ves.io.schema.graph.connectivity.CustomAPI.EdgeQuery"},"x-displayname":"Connectivity Graph","x-ves-proto-service":"ves.io.schema.graph.connectivity.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/data/namespaces/{namespace}/graph/connectivity/node":{"post":{"summary":"Connectivity Node Query","description":"Request to get Connectivity data for a site.\nThis query is used to get time-series data for a given site.","operationId":"ves.io.schema.graph.connectivity.CustomAPI.NodeQuery","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/connectivityNodeResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"namespace\n\nx-example: \"value\"\n\nThis request is supported only in system namespace.","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/connectivityNodeRequest"}}},"required":true},"x-ves-proto-rpc":"ves.io.schema.graph.connectivity.CustomAPI.NodeQuery"},"x-displayname":"Connectivity Graph","x-ves-proto-service":"ves.io.schema.graph.connectivity.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"}},"x-displayname":"Connectivity Graph","x-ves-proto-package":"ves.io.schema.graph.connectivity","components":{"schemas":{"connectivityEdgeData":{"type":"object","description":"EdgeData wraps all the response data for an edge in the connectivity graph response.","title":"Edge Data","x-displayname":"Edge Data","x-ves-proto-message":"ves.io.schema.graph.connectivity.EdgeData","properties":{"dst_id":{"$ref":"#/components/schemas/connectivityId"},"healthscore":{"$ref":"#/components/schemas/graphHealthscoreData"},"metric":{"type":"array","description":" Edge Metric data specified in the request","title":"Metric","items":{"$ref":"#/components/schemas/graphconnectivityEdgeMetricData"},"x-displayname":"Metric"},"src_id":{"$ref":"#/components/schemas/connectivityId"}}},"connectivityEdgeFieldSelector":{"type":"object","description":"EdgeFieldSelector is used to specify the list of fields that should be returned per edge in the response.","title":"Edge Field Selector","x-displayname":"Edge Field Selector","x-ves-proto-message":"ves.io.schema.graph.connectivity.EdgeFieldSelector","properties":{"healthscore":{"$ref":"#/components/schemas/graphHealthscoreSelector"},"metric":{"$ref":"#/components/schemas/graphconnectivityEdgeMetricSelector"}}},"connectivityEdgeMetricType":{"type":"string","description":"EdgeMetricType specifies the metrics that can be queried per edge in the connectivity graph.\n\nIndicates field not being set\nx-unit: \"percentage\"\nReachability of the destination site from the source site\nx-unit: \"seconds\"\nAverage latency for the edge reported by the source site\nx-unit: \"bits per second (bps)\"\nThroughput of the incoming traffic from destination site reported by the source site\nx-unit: \"bits per second (bps)\"\nThroughput of the outgoing traffic to destination site reported by the source site\nx-unit: \"packets per second (pps)\"\nDrop rate of the incoming traffic from destination site reported by the source site\nx-unit: \"packets per second (pps)\"\nDrop rate of the outgoing traffic to destination site reported by the source site\nx-unit: \"bool\"\nConnection status of the edge - 0 (down), 1 (up)\nx-unit: \"bool\"\nARES connection status of the edge - 0 (down), 1 (up)\nx-unit: \"bool\"\nData Plane Connection status of the edge - 0 (down), 1 (up)\nx-unit: \"bool\"\nControl Plane connection status of the edge - 0 (down), 1 (up)","title":"Edge Metric Type","enum":["EDGE_METRIC_TYPE_NONE","EDGE_REACHABILITY","EDGE_LATENCY","EDGE_IN_THROUGHPUT","EDGE_OUT_THROUGHPUT","EDGE_IN_DROP_RATE","EDGE_OUT_DROP_RATE","EDGE_CONNECTION_STATUS","EDGE_ARES_CONNECTION_STATUS","EDGE_DATA_PLANE_CONNECTION_STATUS","EDGE_CONTROL_PLANE_CONNECTION_STATUS"],"default":"EDGE_METRIC_TYPE_NONE","x-displayname":"Edge Metric Type","x-ves-proto-enum":"ves.io.schema.graph.connectivity.EdgeMetricType"},"connectivityEdgeRequest":{"type":"object","description":"Request to get the time-series data for an edge in the connectivity graph.\nWhile graph/connectivity API is used to get connectivity data for all sites,\nwhere each node and edge contains the aggregated value for each field;\ngraph/connectivity/edge API is used to get the time-series data (drill-down of aggregated data)\nfor each field.","title":"Connectivity Edge Request","x-displayname":"Connectivity Edge Request","x-ves-proto-message":"ves.io.schema.graph.connectivity.EdgeRequest","properties":{"dst_id":{"$ref":"#/components/schemas/connectivityId"},"end_time":{"type":"string","description":"\n end time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the end_time will be evaluated to start_time+10m\n           If start_time is not specified, then the end_time will be evaluated to <current time>\n\nExample: ` \"1570197600\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"end_time","x-displayname":"End Time","x-ves-example":"1570197600","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"field_selector":{"$ref":"#/components/schemas/connectivityEdgeFieldSelector"},"namespace":{"type":"string","description":"\n This request is supported only in system namespace.\n\nExample: ` \"value\"`","title":"namespace","x-displayname":"Namespace","x-ves-example":"value"},"range":{"type":"string","description":"\n range decides how far to go back in time to fetch values for each step.\n For example, if the range is 5m, then for step t1, query will be evaluated for t1-5m and for\n t2, query will be evaluated for t2-5m and so on.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Note: For non-timeseries query, i.e., for step=end_time-start_time, range should be set to end_time-start_time\n\n Optional: If not specified, range is set to 5m\n\nExample: ` \"10m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"range","x-displayname":"Range","x-ves-example":"10m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}},"src_id":{"$ref":"#/components/schemas/connectivityId"},"start_time":{"type":"string","description":"\n start time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the start_time will be evaluated to end_time-10m\n           If end_time is not specified, then the start_time will be evaluated to <current time>-10m\n\nExample: ` \"1570194000\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"start_time","x-displayname":"Start Time","x-ves-example":"1570194000","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"step":{"type":"string","description":"\n step is the resolution width, which determines the number of the data points [x-axis (time)] to be returned in the response.\n The timestamps in the response will be t1=start_time, t2=t1+step, ... tn=tn-1+step, where tn <= end_time.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Optional: If not specified, then step size is evaluated to <end_time - start_time>\n\nExample: ` \"5m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_step: true\n","title":"step","x-displayname":"Step","x-ves-example":"5m","x-ves-validation-rules":{"ves.io.schema.rules.string.query_step":"true"}}}},"connectivityEdgeResponse":{"type":"object","description":"Response for graph/connectivity/edge API returns the time-series data for the edge specified in the request.","title":"Connectivity Edge Response","x-displayname":"Connectivity Edge Response","x-ves-proto-message":"ves.io.schema.graph.connectivity.EdgeResponse","properties":{"data":{"$ref":"#/components/schemas/connectivityEdgeData"},"step":{"type":"string","description":" Actual step size used in the response. It could be higher than the requested step due to metric rollups and the query duration.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\nExample: ` \"30m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"step","x-displayname":"Step","x-ves-example":"30m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}}}},"connectivityFieldSelector":{"type":"object","description":"FieldSelector is used to specify the list of fields to be returned in the response for connectivity graph.","title":"Field Selector","x-displayname":"Field Selector","x-ves-proto-message":"ves.io.schema.graph.connectivity.FieldSelector","properties":{"edge":{"$ref":"#/components/schemas/connectivityEdgeFieldSelector"},"node":{"$ref":"#/components/schemas/connectivityNodeFieldSelector"}}},"connectivityId":{"type":"object","description":"Id uniquely identifies a node or an edge in the connectivity graph.","title":"Id","x-displayname":"Id","x-ves-proto-message":"ves.io.schema.graph.connectivity.Id","properties":{"site":{"type":"string","description":" Name of the site\n\nExample: ` \"ce01\"`","title":"Site","x-displayname":"Site","x-ves-example":"ce01"},"site_type":{"$ref":"#/components/schemas/siteSiteType"}}},"connectivityIdField":{"type":"string","description":"IdField is used to select one or more fields that uniquely identifies\na node or an edge in the connectivity graph.\n\nIndicates the field not being set\nIdentifies a site (CE or RE)","title":"Id Field","enum":["NONE","SITE"],"default":"NONE","x-displayname":"Id Field","x-ves-proto-enum":"ves.io.schema.graph.connectivity.IdField"},"connectivityLabelFilter":{"type":"object","description":"Metrics used in the connectivity graph are tagged with labels listed in the enum Label.\nLabel Filter is used to filter the timeseries that match the specified label key/value\nand the operator.","title":"Label Filter","x-displayname":"Label Filter","x-ves-proto-message":"ves.io.schema.graph.connectivity.LabelFilter","properties":{"label":{"$ref":"#/components/schemas/graphconnectivityLabel"},"op":{"$ref":"#/components/schemas/graphQueryOp"},"value":{"type":"string","description":" Value of the label\n\nExample: ` \"ce01\"`","title":"Value","x-displayname":"Value","x-ves-example":"ce01"}}},"connectivityNodeData":{"type":"object","description":"NodeData wraps all the response data for a node in the connectivity graph response.","title":"Node Data","x-displayname":"Node Data","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeData","properties":{"healthscore":{"$ref":"#/components/schemas/graphHealthscoreData"},"id":{"$ref":"#/components/schemas/connectivityId"},"instances":{"type":"array","description":" Instance data for the node requested by the user","title":"Instances","items":{"$ref":"#/components/schemas/connectivityNodeInstanceData"},"x-displayname":"Instances"},"interfaces":{"type":"array","description":" Interface data for the node requested by the user","title":"Interfaces","items":{"$ref":"#/components/schemas/connectivityNodeInterfaceData"},"x-displayname":"Interfaces"},"metric":{"type":"array","description":" Node Metric data specified in the request","title":"Metric","items":{"$ref":"#/components/schemas/graphconnectivityNodeMetricData"},"x-displayname":"Metric"}}},"connectivityNodeFieldSelector":{"type":"object","description":"NodeFieldSelector is used to specify the list of fields that should be returned per node in the response.","title":"Node Field Selector","x-displayname":"Node Field Selector","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeFieldSelector","properties":{"healthscore":{"$ref":"#/components/schemas/graphHealthscoreSelector"},"metric":{"$ref":"#/components/schemas/graphconnectivityNodeMetricSelector"}}},"connectivityNodeInstanceData":{"type":"object","description":"NodeInstanceData is part of the connectivity graph response that contains the instance name\nalong with the corresponding metric.","title":"Node Instance Data","x-displayname":"Node Instance Data","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeInstanceData","properties":{"id":{"type":"string","description":" Instance name\n\nExample: ` \"master-0\"`","title":"ID","x-displayname":"ID","x-ves-example":"master-0"},"metric":{"type":"array","description":" Instance Metric Data","title":"Metric","items":{"$ref":"#/components/schemas/connectivityNodeInstanceMetricData"},"x-displayname":"Metric"}}},"connectivityNodeInstanceMetricData":{"type":"object","description":"NodeInstanceMetricData contains the metric type and the corresponding value for a node instance","title":"Node Instance Metric Data","x-displayname":"Node Instance Metric Data","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeInstanceMetricData","properties":{"type":{"$ref":"#/components/schemas/connectivityNodeInstanceMetricType"},"unit":{"$ref":"#/components/schemas/schemaUnitType"},"value":{"$ref":"#/components/schemas/graphMetricFeatureData"}}},"connectivityNodeInstanceMetricType":{"type":"string","description":"NodeInstanceMetricType lists the instance specific metrics per site.\n\nIndicates field not being set\nx-unit: \"percentage\"\nCPU utilization\nx-unit: \"percentage\"\nCPU utilization (excludes cpus allocated to dpdk and other internal entities)\nx-unit: \"percentage\"\nMemory utilization\nx-unit: \"percentage\"\nDisk utilization\nx-unit: \"celcius\"\nAverage GPU temperature\nx-unit: \"bits per second (bps)\"\nGPU Tx Throughput\nx-unit: \"bits per second (bps)\"\nGPU Rx Throughput\nx-unit: \"percentage\"\nGPU utilization\nx-unit: \"bool\"\nIndicates the status of a node - 0 (down), 1 (up)","title":"Node Interface Metric Type","enum":["NODE_INSTANCE_METRIC_TYPE_NONE","NODE_INSTANCE_CPU_USAGE","NODE_INSTANCE_MEMORY_USAGE","NODE_INSTANCE_DISK_USAGE","NODE_INSTANCE_GPU_TEMPERATURE","NODE_INSTANCE_GPU_TX_THROUGHPUT","NODE_INSTANCE_GPU_RX_THROUGHPUT","NODE_INSTANCE_GPU_USAGE","NODE_INSTANCE_STATUS","NODE_INSTANCE_CPU_USAGE_EXTERNAL"],"default":"NODE_INSTANCE_METRIC_TYPE_NONE","x-displayname":"Node Interface Metric Type","x-ves-proto-enum":"ves.io.schema.graph.connectivity.NodeInstanceMetricType"},"connectivityNodeInterfaceData":{"type":"object","description":"NodeInterfaceData is part of the connectivity graph response that contains the interface name\nalong with the corresponding metric.","title":"Node Interface Data","x-displayname":"Node Interface Data","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeInterfaceData","properties":{"id":{"type":"string","description":" Interface name\n\nExample: ` \"eth0\"`","title":"ID","x-displayname":"ID","x-ves-example":"eth0"},"metric":{"type":"array","description":" Interface Metric Data","title":"Metric","items":{"$ref":"#/components/schemas/connectivityNodeInterfaceMetricData"},"x-displayname":"Metric"},"network_type":{"type":"string","description":" Network Type can be \"INSIDE\" (LAN traffic) or \"OUTSIDE\" (WAN traffic)\n\nExample: ` \"OUTSIDE\"`","title":"Network Type","x-displayname":"Network Type","x-ves-example":"OUTSIDE"},"segment_name":{"type":"string","description":" Segment name for network_type segment should be added in response\n\nExample: ` \"segment-1\"`","title":"Segment Name","x-displayname":"Segment Name","x-ves-example":"segment-1"}}},"connectivityNodeInterfaceMetricData":{"type":"object","description":"NodeInterfaceMetricData contains the metric type and the corresponding value for a node interface","title":"Node Interface Metric Data","x-displayname":"Node Interface Metric Data","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeInterfaceMetricData","properties":{"type":{"$ref":"#/components/schemas/connectivityNodeInterfaceMetricType"},"unit":{"$ref":"#/components/schemas/schemaUnitType"},"value":{"$ref":"#/components/schemas/graphMetricFeatureData"}}},"connectivityNodeInterfaceMetricType":{"type":"string","description":"NodeInterfaceMetricType lists the interface specific metrics per site.\n\nIndicates field not being set\nx-unit: \"bool\"\nIndicates the interface status - 0 (down), 1 (up)\nx-unit: \"bits per second (bps)\"\nThroughput of the incoming traffic\nx-unit: \"bits per second (bps)\"\nThroughput of the outgoing traffic\nx-unit: \"packets per second (pps)\"\nDrop rate of incoming traffic\nx-unit: \"packets per second (pps)\"\nDrop rate of outgoing traffic","title":"Node Interface Metric Type","enum":["NODE_IF_METRIC_TYPE_NONE","NODE_IF_STATUS","NODE_IF_IN_THROUGHPUT","NODE_IF_OUT_THROUGHPUT","NODE_IF_IN_DROP_RATE","NODE_IF_OUT_DROP_RATE"],"default":"NODE_IF_METRIC_TYPE_NONE","x-displayname":"Node Interface Metric Type","x-ves-proto-enum":"ves.io.schema.graph.connectivity.NodeInterfaceMetricType"},"connectivityNodeMetricType":{"type":"string","description":"NodeMetricType specifies the metrics that can be queried per node in the connectivity graph.\n\nIndicates field not being set\nx-unit: \"bits per second (bps)\"\nThroughput of incoming traffic\nx-unit: \"bits per second (bps)\"\nThroughput of outgoing traffic\nx-unit: \"packets per second (pps)\"\nDrop rate of incoming traffic\nx-unit: \"packets per second (pps)\"\nDrop rate of outgoing traffic\nx-unit: \"count\"\nNumber of deployments\nx-unit: \"count\"\nNumber of pods\nx-unit: \"percentage\"\nReachability of the node computed based on reachability from all the connected nodes.\nx-unit: \"bool\"\nConnection status of the node - 0 (down), 1 (up)\nx-unit: \"bool\"\nARES connection status of the node = 0 (down), 1 (up)\nx-unit: \"bool\"\nData Plane Connection status of the node - 0 (down), 1 (up)\nx-unit: \"bool\"\nControl Plane connection status of the node = 0 (down), 1 (up)\nx-unit: \"bool\"\nLocal Control Plane connection status of the node = 0 (down), 1 (up)","title":"Node Metric Type","enum":["NODE_METRIC_TYPE_NONE","NODE_IN_THROUGHPUT","NODE_OUT_THROUGHPUT","NODE_IN_DROP_RATE","NODE_OUT_DROP_RATE","NODE_DEPLOYMENT_COUNT","NODE_POD_COUNT","NODE_REACHABILITY","NODE_CONNECTION_STATUS","NODE_ARES_CONNECTION_STATUS","NODE_DATA_PLANE_CONNECTION_STATUS","NODE_CONTROL_PLANE_CONNECTION_STATUS","NODE_LOCAL_CONTROL_PLANE_CONNECTION_STATUS"],"default":"NODE_METRIC_TYPE_NONE","x-displayname":"Node Metric Type","x-ves-proto-enum":"ves.io.schema.graph.connectivity.NodeMetricType"},"connectivityNodeRequest":{"type":"object","description":"Request to get time-series data for a node in the connectivity graph.\nWhile graph/connectivity API is used to get connectivity data for all sites,\nwhere each node and edge contains the aggregated value for each field;\ngraph/connectivity/node API is used to get the time-series data (drill-down of aggregated data)\nfor each field.","title":"Connectivity Node Request","x-displayname":"Connectivity Node Request","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeRequest","properties":{"end_time":{"type":"string","description":"\n end time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the end_time will be evaluated to start_time+10m\n           If start_time is not specified, then the end_time will be evaluated to <current time>\n\nExample: ` \"2019-09-24T12:30:11.733Z\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"end_time","x-displayname":"End Time","x-ves-example":"2019-09-24T12:30:11.733Z","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"field_selector":{"$ref":"#/components/schemas/connectivityNodeFieldSelector"},"id":{"$ref":"#/components/schemas/connectivityId"},"label_filter":{"type":"array","description":"\n List of label filter expressions of the form \"label key\" QueryOp \"value\".\n Response will only contain data that matches all the conditions specified in the label_filter.\n\n Optional: If not specified, connectivity data for all sites will be returned in the response.","title":"label_filter","items":{"$ref":"#/components/schemas/connectivityLabelFilter"},"x-displayname":"Label Filter"},"namespace":{"type":"string","description":"\n This request is supported only in system namespace.\n\nExample: ` \"value\"`","title":"namespace","x-displayname":"Namespace","x-ves-example":"value"},"range":{"type":"string","description":"\n range decides how far to go back in time to fetch values for each step.\n For example, if the range is 5m, then for step t1, query will be evaluated for t1-5m and for\n t2, query will be evaluated for t2-5m and so on.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Note: For non-timeseries query, i.e., for step=end_time-start_time, range should be set to end_time-start_time\n\n Optional: If not specified, range is set to 5m\n\nExample: ` \"10m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"range","x-displayname":"Range","x-ves-example":"10m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}},"start_time":{"type":"string","description":"\n start time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the start_time will be evaluated to end_time-10m\n           If end_time is not specified, then the start_time will be evaluated to <current time>-10m\n\nExample: ` \"2019-09-23T12:30:11.733Z\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"start_time","x-displayname":"Start Time","x-ves-example":"2019-09-23T12:30:11.733Z","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"step":{"type":"string","description":"\n step is the resolution width, which determines the number of the data points [x-axis (time)] to be returned in the response.\n The timestamps in the response will be t1=start_time, t2=t1+step, ... tn=tn-1+step, where tn <= end_time.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Optional: If not specified, then step size is evaluated to <end_time - start_time>\n\nExample: ` \"5m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_step: true\n","title":"step","x-displayname":"Step","x-ves-example":"5m","x-ves-validation-rules":{"ves.io.schema.rules.string.query_step":"true"}}}},"connectivityNodeResponse":{"type":"object","description":"Response for graph/connectivity/node API returns the time-series data for the site\nspecified in the request.","title":"Connectivity Node Response","x-displayname":"Connectivity Node Response","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeResponse","properties":{"data":{"$ref":"#/components/schemas/connectivityNodeData"},"step":{"type":"string","description":" Actual step size used in the response. It could be higher than the requested step due to metric rollups and the query duration.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\nExample: ` \"30m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"step","x-displayname":"Step","x-ves-example":"30m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}}}},"connectivityRequest":{"type":"object","description":"graph/connectivity API is used to get the reachability, throughput and other monitoring data\nfor the tenant's CEs and the connected REs.","title":"Connectivity Graph Request","x-displayname":"Connectivity Graph Request","x-ves-proto-message":"ves.io.schema.graph.connectivity.Request","properties":{"end_time":{"type":"string","description":"\n end time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the end_time will be evaluated to start_time+10m\n           If start_time is not specified, then the end_time will be evaluated to <current time>\n\nExample: ` \"2019-09-24T12:30:11.733Z\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"end_time","x-displayname":"End Time","x-ves-example":"2019-09-24T12:30:11.733Z","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"field_selector":{"$ref":"#/components/schemas/connectivityFieldSelector"},"group_by":{"type":"array","description":"\n Aggregate data by site.\n\n Optional: If not specified, then the data is aggregated/grouped by site.","title":"group_by","items":{"$ref":"#/components/schemas/connectivityIdField"},"x-displayname":"Group By"},"label_filter":{"type":"array","description":"\n List of label filter expressions of the form \"label key\" QueryOp \"value\".\n Response will only contain data that matches all the conditions specified in the label_filter.\n\n Optional: If not specified, connectivity data for all sites will be returned in the response.","title":"label_filter","items":{"$ref":"#/components/schemas/connectivityLabelFilter"},"x-displayname":"Label Filter"},"namespace":{"type":"string","description":" This request is supported only in system namespace.\n\nExample: ` \"value\"`","title":"Namespace","x-displayname":"Namespace","x-ves-example":"value"},"start_time":{"type":"string","description":"\n start time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the start_time will be evaluated to end_time-10m\n           If end_time is not specified, then the start_time will be evaluated to <current time>-10m\n\nExample: ` \"2019-09-23T12:30:11.733Z\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"start_time","x-displayname":"Start Time","x-ves-example":"2019-09-23T12:30:11.733Z","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}}}},"connectivityResponse":{"type":"object","description":"Response for graph/connectivity API contains list of nodes and edges.\nEach node contains connectivity data for a site and each edge contains the\nconnectivity data between the sites.","title":"Connectivity Graph Response","x-displayname":"Connectivity Graph Response","x-ves-proto-message":"ves.io.schema.graph.connectivity.Response","properties":{"edges":{"type":"array","description":" Connectivity data between the the Customer sites and the Regional sites.","title":"Edges","items":{"$ref":"#/components/schemas/connectivityEdgeData"},"x-displayname":"Edges"},"nodes":{"type":"array","description":" Connectivity data for list of sites owned by a tenant.","title":"Nodes","items":{"$ref":"#/components/schemas/connectivityNodeData"},"x-displayname":"Nodes"}}},"graphHealthscoreData":{"type":"object","description":"Contains the list of healthscores requested by the user.","title":"Healthscore Data","x-displayname":"Healthscore Data","x-ves-proto-message":"ves.io.schema.graph.HealthscoreData","properties":{"data":{"type":"array","description":" List of healthscores specified in the request.","title":"Data","items":{"$ref":"#/components/schemas/graphHealthscoreTypeData"},"x-displayname":"Data"}}},"graphHealthscoreSelector":{"type":"object","description":"Healthscore Selector is used to specify the healthscore types to be returned in the response.","title":"Healthscore Selector","x-displayname":"Healthscore Selector","x-ves-proto-message":"ves.io.schema.graph.HealthscoreSelector","properties":{"types":{"type":"array","description":" Healthscore types to be returned in the response.","title":"Types","items":{"$ref":"#/components/schemas/graphHealthscoreType"},"x-displayname":"Types"}}},"graphHealthscoreType":{"type":"string","description":"Healthscore for a site or service calculated based on SLAs and KPIs for the application\n\nHealthscore not requested\nx-unit: \"percentage\"\nConnectivity Healthscore\nx-unit: \"percentage\"\nPerformance Healthscore\nx-unit: \"percentage\"\nSecurity Healthscore\nx-unit: \"percentage\"\nReliability Healthscore\nx-unit: \"percentage\"\nOverall Healthscore","title":"Healthscore Type","enum":["HEALTHSCORE_NONE","HEALTHSCORE_CONNECTIVITY","HEALTHSCORE_PERFORMANCE","HEALTHSCORE_SECURITY","HEALTHSCORE_RELIABILITY","HEALTHSCORE_OVERALL"],"default":"HEALTHSCORE_NONE","x-displayname":"Healthscore Type","x-ves-proto-enum":"ves.io.schema.graph.HealthscoreType"},"graphHealthscoreTypeData":{"type":"object","description":"HealthScoreTypeData contains healthscore type and the corresponding value","title":"Healthscore Type Data","x-displayname":"Healthscore Type Data","x-ves-proto-message":"ves.io.schema.graph.HealthscoreTypeData","properties":{"reason":{"type":"string","description":" A human readable string explaining the reason in case of bad healthscore\n\nExample: ` \"Only one healthy RE connected\"`","title":"Reason","x-displayname":"Reason","x-ves-example":"Only one healthy RE connected"},"type":{"$ref":"#/components/schemas/graphHealthscoreType"},"value":{"type":"array","description":" Healthscore value","title":"Value","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Value"}}},"graphMetricFeatureData":{"type":"object","description":"Contains metric values for timeseries features specified in the request.","title":"Metric Feature Data","x-displayname":"Metric Feature Data","x-ves-proto-message":"ves.io.schema.graph.MetricFeatureData","properties":{"anomaly":{"type":"array","description":" Number of anomalies for the given time range.","title":"Anomaly","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Anomaly"},"confidence_lower_bound":{"type":"array","description":" Lower Bound of the metric value","title":"Confidence Lower Bound","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Confidence Lower Bound"},"confidence_upper_bound":{"type":"array","description":" Upper Bound of the metric value","title":"Confidence Upper Bound","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Confidence Upper Bound"},"healthscore":{"type":"array","description":" Healscore of the metric calculated based on the number of anomalies\n and the value of the anomalies for the time range.","title":"Healthscore","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Healthscore"},"raw":{"type":"array","description":" List of metric values for a given metric type","title":"Raw","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Raw"},"trend":{"type":"array","description":" Indicates the metric trend","title":"Trend","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Trend"}}},"graphQueryOp":{"type":"string","description":"Match operators supported on a label\n\nIndicates that the field is not set\nSelect timeseries whose label value exactly matches the specified string\nSelect timeseries whose label value does not match the specified string","title":"Label Operator","enum":["NOP","EQ","NEQ"],"default":"NOP","x-displayname":"Label Operator","x-ves-proto-enum":"ves.io.schema.graph.QueryOp"},"graphconnectivityEdgeMetricData":{"type":"object","description":"EdgeMetricData contains the metric type and the corresponding metric value.","title":"Edge Metric Data","x-displayname":"Edge Metric Data","x-ves-proto-message":"ves.io.schema.graph.connectivity.EdgeMetricData","properties":{"type":{"$ref":"#/components/schemas/connectivityEdgeMetricType"},"unit":{"$ref":"#/components/schemas/schemaUnitType"},"value":{"$ref":"#/components/schemas/graphMetricFeatureData"}}},"graphconnectivityEdgeMetricSelector":{"type":"object","description":"EdgeMetricSelector is used to select the metrics that should be returned for an edge.","title":"Edge Metric Selector","x-displayname":"Edge Metric Selector","x-ves-proto-message":"ves.io.schema.graph.connectivity.EdgeMetricSelector","properties":{"features":{"type":"array","description":" Specify list of timeseries features that should be returned for each metric type\n in the request.","title":"Features","items":{"$ref":"#/components/schemas/timeseriesTimeseriesFeature"},"x-displayname":"Features"},"types":{"type":"array","description":" Specify list of metrics that should be returned for each edge in the connectivity graph.\n\nValidation Rules:\n  ves.io.schema.rules.repeated.unique: true\n","title":"Types","items":{"$ref":"#/components/schemas/connectivityEdgeMetricType"},"x-displayname":"Types","x-ves-validation-rules":{"ves.io.schema.rules.repeated.unique":"true"}}}},"graphconnectivityLabel":{"type":"string","description":"Metrics used to construct the connectivity graph are tagged with these labels and therefore\nthe metrics can be sliced and diced based on one or more labels.\n\nIndicates the field not being set\nIdentifies a site (CE or RE)\nIdentifies a network (INSIDE or OUTSIDE or segment)\nIdentifies a interface (tunnel_ipsec or tunnel_ssl or segment_interface or tunnel_tgw_Gre)\nIdentifies a connection (TGW_CONNECTIVITY)","title":"Label","enum":["LABEL_NONE","LABEL_SITE","LABEL_NETWORK_TYPE","LABEL_INTERFACE_TYPE","LABEL_CONNECTIVITY_TYPE"],"default":"LABEL_NONE","x-displayname":"Label","x-ves-proto-enum":"ves.io.schema.graph.connectivity.Label"},"graphconnectivityNodeMetricData":{"type":"object","description":"NodeMetricData contains metric type and the corresponding value for a node","title":"Node Metric Data","x-displayname":"Node Metric Data","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeMetricData","properties":{"type":{"$ref":"#/components/schemas/connectivityNodeMetricType"},"unit":{"$ref":"#/components/schemas/schemaUnitType"},"value":{"$ref":"#/components/schemas/graphMetricFeatureData"}}},"graphconnectivityNodeMetricSelector":{"type":"object","description":"NodeMetricSelector is used to select the metrics that should be returned for a node.","title":"Node Metric Selector","x-displayname":"Node Metric Selector","x-ves-proto-message":"ves.io.schema.graph.connectivity.NodeMetricSelector","properties":{"features":{"type":"array","description":" Specify list of timeseries features that should be returned for each metric type\n in the request.","title":"Features","items":{"$ref":"#/components/schemas/timeseriesTimeseriesFeature"},"x-displayname":"Features"},"instances":{"type":"array","description":" Specify list of metrics\n\nValidation Rules:\n  ves.io.schema.rules.repeated.unique: true\n","title":"Instance Metrics","items":{"$ref":"#/components/schemas/connectivityNodeInstanceMetricType"},"x-displayname":"Instance Metrics","x-ves-validation-rules":{"ves.io.schema.rules.repeated.unique":"true"}},"interfaces":{"type":"array","description":" Specify list of metrics that should be returned for each physical interface in a site.\n\nValidation Rules:\n  ves.io.schema.rules.repeated.unique: true\n","title":"Interface Metrics","items":{"$ref":"#/components/schemas/connectivityNodeInterfaceMetricType"},"x-displayname":"Interface Metrics","x-ves-validation-rules":{"ves.io.schema.rules.repeated.unique":"true"}},"types":{"type":"array","description":" Specify list of metrics that should be returned for each node in the connectivity graph.\n\nValidation Rules:\n  ves.io.schema.rules.repeated.unique: true\n","title":"Node Metrics","items":{"$ref":"#/components/schemas/connectivityNodeMetricType"},"x-displayname":"Node Metrics","x-ves-validation-rules":{"ves.io.schema.rules.repeated.unique":"true"}}}},"schemaTrendSentiment":{"type":"string","description":"trend sentiment\n\nIndicates trend sentiment is positive\nIndicates trend sentiment is negative.","title":"Trend Sentiment","enum":["TREND_SENTIMENT_NONE","TREND_SENTIMENT_POSITIVE","TREND_SENTIMENT_NEGATIVE"],"default":"TREND_SENTIMENT_NONE","x-displayname":"Trend Sentiment","x-ves-proto-enum":"ves.io.schema.TrendSentiment"},"schemaTrendValue":{"type":"object","description":"Trend value contains trend value, trend sentiment and trend calculation description and window size.","title":"Trend Value","x-displayname":"Trend Value","x-ves-proto-message":"ves.io.schema.TrendValue","properties":{"description":{"type":"string","description":" description of the method used to calculate trend.\n\nExample: ` \"Trend was calculated by comparing the avg of window size intervals of end-start Time and last window time interval\"`","title":"Description","x-displayname":"Description","x-ves-example":"Trend was calculated by comparing the avg of window size intervals of end-start Time and last window time interval"},"previous_value":{"type":"string","description":"\n\nExample: ` \"200.00\"`","title":"Previous Value","x-displayname":"Previous Value","x-ves-example":"200.00"},"sentiment":{"$ref":"#/components/schemas/schemaTrendSentiment"},"value":{"type":"string","description":"\n\nExample: ` \"-15\"`","title":"Value","x-displayname":"Value","x-ves-example":"-15"}}},"schemaUnitType":{"type":"string","description":"UnitType is enumeration of units for scalar fields","title":"UnitType","enum":["UNIT_MILLISECONDS","UNIT_SECONDS","UNIT_MINUTES","UNIT_HOURS","UNIT_DAYS","UNIT_BYTES","UNIT_KBYTES","UNIT_MBYTES","UNIT_GBYTES","UNIT_TBYTES","UNIT_KIBIBYTES","UNIT_MIBIBYTES","UNIT_GIBIBYTES","UNIT_TEBIBYTES","UNIT_BITS_PER_SECOND","UNIT_BYTES_PER_SECOND","UNIT_KBITS_PER_SECOND","UNIT_KBYTES_PER_SECOND","UNIT_MBITS_PER_SECOND","UNIT_MBYTES_PER_SECOND","UNIT_CONNECTIONS_PER_SECOND","UNIT_ERRORS_PER_SECOND","UNIT_PACKETS_PER_SECOND","UNIT_REQUESTS_PER_SECOND","UNIT_PACKETS","UNIT_PERCENTAGE","UNIT_COUNT"],"default":"UNIT_MILLISECONDS","x-displayname":"Unit","x-ves-proto-enum":"ves.io.schema.UnitType"},"schemagraphMetricValue":{"type":"object","description":"Each metric value consists of a timestamp and a value.\nTimestamp in the Metric Value is based on the start_time, end_time and step in the request.\nValid values for timestamp are t1=start_time, t2=t1+step, t3=t2+step, ... tn=tn-1+step, where tn <= end_time.\nResponse may not contain values for all timestamps between start_time and end_time.","title":"Metric Value","x-displayname":"Metric Value","x-ves-proto-message":"ves.io.schema.graph.MetricValue","properties":{"timestamp":{"type":"number","description":" UTC timestamp in seconds\n\nExample: ` \"1569528992\"`","title":"Timestamp","format":"double","x-displayname":"Timestamp","x-ves-example":"1569528992"},"trend_value":{"$ref":"#/components/schemas/schemaTrendValue"},"value":{"type":"string","description":" Metric value\n\nExample: ` \"10.6\"`","title":"Value","x-displayname":"Value","x-ves-example":"10.6"}}},"siteSiteType":{"type":"string","description":"Site Type which can either RE or CE\n\nInvalid type of site\nRegional Edge site\nCustomer Edge site","title":"SiteType","enum":["INVALID","REGIONAL_EDGE","CUSTOMER_EDGE","NGINX_ONE"],"default":"INVALID","x-displayname":"Site Type","x-ves-proto-enum":"ves.io.schema.site.SiteType"},"timeseriesTimeseriesFeature":{"type":"string","description":"Various Timeseries Features that can be enabled\n\nDo not enable any feature\nEnable calculating confidence interval, upper and lower bound time series where metric is expected to vary.\ndetect anomalies and generate alarm when metric goes out of confidence interval\ndetect trend of the metric\nIndicate a score between 0 to 100 which indicates if the metric is healthy","title":"Timeseries","enum":["TIMESERIES_FEATURE_NONE","CONFIDENCE_INTERVAL","ANOMALY_DETECTION","TREND","HEALTHSCORE"],"default":"TIMESERIES_FEATURE_NONE","x-displayname":"Timeseries","x-ves-proto-enum":"ves.io.schema.timeseries.TimeseriesFeature"}}}}