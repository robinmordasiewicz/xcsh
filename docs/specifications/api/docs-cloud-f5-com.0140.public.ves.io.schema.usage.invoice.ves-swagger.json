{"openapi":"3.0.0","info":{"title":"F5 Distributed Cloud Services API for ves.io.schema.usage.invoice","description":"Invoice listing and downloading APIs","version":""},"paths":{"/api/web/namespaces/{namespace}/usage/invoice_pdf":{"get":{"summary":"GetInvoicePdf","description":"Retrieve pdf for a paid invoice by its name","operationId":"ves.io.schema.usage.invoice.CustomAPI.DownloadInvoicePdf","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/invoiceDownloadInvoicePdfRsp"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"Namespace\n\nx-example: \"system\"\nNamespace filter","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}},{"name":"name","description":"x-example: \"invoice-1\"\nName of the invoice to be downloaded","in":"query","required":false,"x-displayname":"Name","schema":{"type":"string"}}],"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-usage-invoice-customapi-downloadinvoicepdf"},"x-ves-proto-rpc":"ves.io.schema.usage.invoice.CustomAPI.DownloadInvoicePdf"},"x-displayname":"Invoice","x-ves-proto-service":"ves.io.schema.usage.invoice.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/web/namespaces/{namespace}/usage/invoices/custom_list":{"get":{"summary":"List invoices","description":"Endpoint to list customer invoices","operationId":"ves.io.schema.usage.invoice.CustomAPI.ListInvoices","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/invoiceListInvoicesRsp"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"Namespace\n\nx-example: \"system\"\nNamespace filter","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}},{"name":"limit","description":"x-example: \"100\"\nMaximum number of invoices to return. Invoices are sorted by their issue date.","in":"query","required":false,"x-displayname":"Limit","schema":{"type":"integer","format":"int32"}}],"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-usage-invoice-customapi-listinvoices"},"x-ves-proto-rpc":"ves.io.schema.usage.invoice.CustomAPI.ListInvoices"},"x-displayname":"Invoice","x-ves-proto-service":"ves.io.schema.usage.invoice.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"}},"x-displayname":"Invoice","x-ves-proto-package":"ves.io.schema.usage.invoice","components":{"schemas":{"invoiceDownloadInvoicePdfRsp":{"type":"object","description":"Response for GetInvoicePdf rpc method","title":"GetInvoicePdfRsp","x-displayname":"GetInvoicePdfRsp","x-ves-proto-message":"ves.io.schema.usage.invoice.DownloadInvoicePdfRsp","properties":{"pdf":{"type":"string","description":" Base 64 encoded invoice as a PDF document.","title":"PDF","format":"byte","x-displayname":"PDF"}}},"invoiceInvoiceStatus":{"type":"string","description":"Invoice status\n\nUnknown, undefined status\nInvoice is just issued\nInvoice is pending, also known as running invoice\nInvoice is paid\nInvoice is refunded\nCancelled invoice (before being due)\nSet when current date is past due date, clears when the invoice gets paid","title":"Invoice status","enum":["STATUS_UNKNOWN","STATUS_ISSUED","STATUS_PENDING","STATUS_PAID","STATUS_REFUNDED","STATUS_CANCELLED","OVERDUE"],"default":"STATUS_UNKNOWN","x-displayname":"Invoice status","x-ves-proto-enum":"ves.io.schema.usage.invoice.InvoiceStatus"},"invoiceInvoiceType":{"type":"object","description":"A single invoice representation","title":"Invoice","x-displayname":"Invoice","x-ves-proto-message":"ves.io.schema.usage.invoice.InvoiceType","properties":{"active":{"type":"boolean","description":" Indicate whether an invoice is active or not. Active invoices are not finalised and their value can change. Inactive invoices are final and their value cannot change.","title":"Invoice active flag","format":"boolean","x-displayname":"Active"},"amount":{"type":"string","description":" Invoice amount as cents\n\nExample: ` \"100\"`","title":"Amount","format":"int64","x-displayname":"Amount","x-ves-example":"100"},"currency":{"type":"string","description":" Currency the amount is in\n\nExample: ` \"USD\"`","title":"Currency","x-displayname":"Currency","x-ves-example":"USD"},"name":{"type":"string","description":" Name of the invoice\n\nExample: ` \"invoice-abc-1\"`","title":"Name","x-displayname":"Name","x-ves-example":"invoice-abc-1"},"period_end":{"type":"string","description":" invoice period end\n\nExample: ` \"2020-05-20T12:32:51.341959216Z\"`","title":"Period end","format":"date-time","x-displayname":"Period end","x-ves-example":"2020-05-20T12:32:51.341959216Z"},"period_start":{"type":"string","description":" Invoice period start\n\nExample: ` \"2020-04-20T12:32:51.341959216Z\"`","title":"Period start","format":"date-time","x-displayname":"Period start","x-ves-example":"2020-04-20T12:32:51.341959216Z"},"status":{"$ref":"#/components/schemas/invoiceInvoiceStatus"}}},"invoiceListInvoicesRsp":{"type":"object","description":"Response to list customer's invoices","title":"List invoice response","x-displayname":"List invoice response","x-ves-proto-message":"ves.io.schema.usage.invoice.ListInvoicesRsp","properties":{"invoices":{"type":"array","description":" List of invoices as per customer request.","title":"Invoices","items":{"$ref":"#/components/schemas/invoiceInvoiceType"},"x-displayname":"Invoices"}}}}}}