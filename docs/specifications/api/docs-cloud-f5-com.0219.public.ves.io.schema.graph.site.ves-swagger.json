{"openapi":"3.0.0","info":{"title":"F5 Distributed Cloud Services API for ves.io.schema.graph.site","description":"graph/site api is query used to get monitoring information for inter site traffic graph for a application.\nTraffic for application is selected when ves.io/app_type label is added to group of services or virtual_host.\nIt returns graph which is set of nodes and edges. \nEach node represents site and edge is traffic between sites for this application. Edges are directed from client to server. \nTwo edges can be present for a given pair of sites. Only method post is supported. Query parameters are present in the request body. \nIt is always scoped by namespace.","version":""},"paths":{"/api/data/namespaces/{namespace}/graph/site":{"post":{"summary":"Site Graph Query","description":"Request to get inter-site traffic graph for an application.","operationId":"ves.io.schema.graph.site.CustomAPI.Query","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/siteResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"Namespace\n\nx-example: \"value\"\nnamespace is used to scope the application traffic to a given namespace.\nFor system namespace, application traffic across all namespaces for the\ntenant will be considered.","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/siteRequest"}}},"required":true},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-graph-site-customapi-query"},"x-ves-proto-rpc":"ves.io.schema.graph.site.CustomAPI.Query"},"x-displayname":"Site Graph","x-ves-proto-service":"ves.io.schema.graph.site.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/data/namespaces/{namespace}/graph/site/edge":{"post":{"summary":"Site Edge Query","description":"Request to get time-series data for an edge returned in the site traffic graph.","operationId":"ves.io.schema.graph.site.CustomAPI.EdgeQuery","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/siteEdgeResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"Namespace\n\nx-example: \"value\"\nnamespace is used to scope the application traffic to a given namespace.\nFor system namespace, application traffic across all namespaces for the\ntenant will be considered.","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/siteEdgeRequest"}}},"required":true},"x-ves-proto-rpc":"ves.io.schema.graph.site.CustomAPI.EdgeQuery"},"x-displayname":"Site Graph","x-ves-proto-service":"ves.io.schema.graph.site.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/data/namespaces/{namespace}/graph/site/node":{"post":{"summary":"Site Node Query","description":"Request to get time-series data for a site returned in the site traffic graph.","operationId":"ves.io.schema.graph.site.CustomAPI.NodeQuery","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/siteNodeResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"Namespace\n\nx-example: \"value\"\nnamespace is used to scope the application traffic to a given namespace.\nFor system namespace, application traffic across all namespaces for the\ntenant will be considered.","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/siteNodeRequest"}}},"required":true},"x-ves-proto-rpc":"ves.io.schema.graph.site.CustomAPI.NodeQuery"},"x-displayname":"Site Graph","x-ves-proto-service":"ves.io.schema.graph.site.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"}},"x-displayname":"Site Graph","x-ves-proto-package":"ves.io.schema.graph.site","components":{"schemas":{"graphEdgeMetricData":{"type":"object","description":"EdgeMetricData contains requested metric data for an edge","title":"Edge Metric Data","x-displayname":"Edge Metric Data","x-ves-proto-message":"ves.io.schema.graph.EdgeMetricData","properties":{"data":{"type":"array","description":" List of metric specified in the request for an edge","title":"Data","items":{"$ref":"#/components/schemas/graphMetricData"},"x-displayname":"Data"}}},"graphEdgeMetricSelector":{"type":"object","description":"EdgeMetricSelector is used to select the metrics that should be returned for an edge.","title":"Edge Metric Selector","x-displayname":"Edge Metric Selector","x-ves-proto-message":"ves.io.schema.graph.EdgeMetricSelector","properties":{"features":{"type":"array","description":" Specify list of timeseries features that should be returned for each metric type\n in the request.","title":"Features","items":{"$ref":"#/components/schemas/timeseriesTimeseriesFeature"},"x-displayname":"Features"},"types":{"type":"array","description":" Specify list of metrics that should be returned for each edge in the connectivity graph.","title":"Types","items":{"$ref":"#/components/schemas/schemagraphMetricType"},"x-displayname":"Types"}}},"graphHealthscoreData":{"type":"object","description":"Contains the list of healthscores requested by the user.","title":"Healthscore Data","x-displayname":"Healthscore Data","x-ves-proto-message":"ves.io.schema.graph.HealthscoreData","properties":{"data":{"type":"array","description":" List of healthscores specified in the request.","title":"Data","items":{"$ref":"#/components/schemas/graphHealthscoreTypeData"},"x-displayname":"Data"}}},"graphHealthscoreSelector":{"type":"object","description":"Healthscore Selector is used to specify the healthscore types to be returned in the response.","title":"Healthscore Selector","x-displayname":"Healthscore Selector","x-ves-proto-message":"ves.io.schema.graph.HealthscoreSelector","properties":{"types":{"type":"array","description":" Healthscore types to be returned in the response.","title":"Types","items":{"$ref":"#/components/schemas/graphHealthscoreType"},"x-displayname":"Types"}}},"graphHealthscoreType":{"type":"string","description":"Healthscore for a site or service calculated based on SLAs and KPIs for the application\n\nHealthscore not requested\nx-unit: \"percentage\"\nConnectivity Healthscore\nx-unit: \"percentage\"\nPerformance Healthscore\nx-unit: \"percentage\"\nSecurity Healthscore\nx-unit: \"percentage\"\nReliability Healthscore\nx-unit: \"percentage\"\nOverall Healthscore","title":"Healthscore Type","enum":["HEALTHSCORE_NONE","HEALTHSCORE_CONNECTIVITY","HEALTHSCORE_PERFORMANCE","HEALTHSCORE_SECURITY","HEALTHSCORE_RELIABILITY","HEALTHSCORE_OVERALL"],"default":"HEALTHSCORE_NONE","x-displayname":"Healthscore Type","x-ves-proto-enum":"ves.io.schema.graph.HealthscoreType"},"graphHealthscoreTypeData":{"type":"object","description":"HealthScoreTypeData contains healthscore type and the corresponding value","title":"Healthscore Type Data","x-displayname":"Healthscore Type Data","x-ves-proto-message":"ves.io.schema.graph.HealthscoreTypeData","properties":{"reason":{"type":"string","description":" A human readable string explaining the reason in case of bad healthscore\n\nExample: ` \"Only one healthy RE connected\"`","title":"Reason","x-displayname":"Reason","x-ves-example":"Only one healthy RE connected"},"type":{"$ref":"#/components/schemas/graphHealthscoreType"},"value":{"type":"array","description":" Healthscore value","title":"Value","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Value"}}},"graphMetricData":{"type":"object","description":"MetricData contains the metric type and the corresponding metric value(s)","title":"Metric Data","x-displayname":"Metric Data","x-ves-proto-message":"ves.io.schema.graph.MetricData","properties":{"type":{"$ref":"#/components/schemas/schemagraphMetricType"},"unit":{"$ref":"#/components/schemas/schemaUnitType"},"value":{"$ref":"#/components/schemas/graphMetricFeatureData"}}},"graphMetricFeatureData":{"type":"object","description":"Contains metric values for timeseries features specified in the request.","title":"Metric Feature Data","x-displayname":"Metric Feature Data","x-ves-proto-message":"ves.io.schema.graph.MetricFeatureData","properties":{"anomaly":{"type":"array","description":" Number of anomalies for the given time range.","title":"Anomaly","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Anomaly"},"confidence_lower_bound":{"type":"array","description":" Lower Bound of the metric value","title":"Confidence Lower Bound","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Confidence Lower Bound"},"confidence_upper_bound":{"type":"array","description":" Upper Bound of the metric value","title":"Confidence Upper Bound","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Confidence Upper Bound"},"healthscore":{"type":"array","description":" Healscore of the metric calculated based on the number of anomalies\n and the value of the anomalies for the time range.","title":"Healthscore","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Healthscore"},"raw":{"type":"array","description":" List of metric values for a given metric type","title":"Raw","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Raw"},"trend":{"type":"array","description":" Indicates the metric trend","title":"Trend","items":{"$ref":"#/components/schemas/schemagraphMetricValue"},"x-displayname":"Trend"}}},"graphNodeMetricData":{"type":"object","description":"NodeMetricData contains the upstream and downstream metrics for a node.","title":"Node Metric Data","x-displayname":"Node Metric Data","x-ves-proto-message":"ves.io.schema.graph.NodeMetricData","properties":{"downstream":{"type":"array","description":" Metric data for the source site/service","title":"Downstream","items":{"$ref":"#/components/schemas/graphMetricData"},"x-displayname":"Downstream"},"upstream":{"type":"array","description":" Metric data for the destination site/service","title":"Upstream","items":{"$ref":"#/components/schemas/graphMetricData"},"x-displayname":"Upstream"}}},"graphNodeMetricSelector":{"type":"object","description":"NodeMetricSelector is used to select the metrics that should be returned for a node.","title":"Node Metric Selector","x-displayname":"Node Metric Selector","x-ves-proto-message":"ves.io.schema.graph.NodeMetricSelector","properties":{"downstream":{"type":"array","description":" Downstream refers to the service that sends requests and receives response.\n\nValidation Rules:\n  ves.io.schema.rules.repeated.unique: true\n","title":"Downstream","items":{"$ref":"#/components/schemas/schemagraphMetricType"},"x-displayname":"Downstream","x-ves-validation-rules":{"ves.io.schema.rules.repeated.unique":"true"}},"features":{"type":"array","description":" Specify list of timeseries features that should be returned for each metric type\n in the request.","title":"Features","items":{"$ref":"#/components/schemas/timeseriesTimeseriesFeature"},"x-displayname":"Features"},"upstream":{"type":"array","description":" Upstream refers to the service that receives requests and sends response.\n\nValidation Rules:\n  ves.io.schema.rules.repeated.unique: true\n","title":"Upstream","items":{"$ref":"#/components/schemas/schemagraphMetricType"},"x-displayname":"Upstream","x-ves-validation-rules":{"ves.io.schema.rules.repeated.unique":"true"}}}},"graphQueryOp":{"type":"string","description":"Match operators supported on a label\n\nIndicates that the field is not set\nSelect timeseries whose label value exactly matches the specified string\nSelect timeseries whose label value does not match the specified string","title":"Label Operator","enum":["NOP","EQ","NEQ"],"default":"NOP","x-displayname":"Label Operator","x-ves-proto-enum":"ves.io.schema.graph.QueryOp"},"graphsiteLabel":{"type":"string","description":"Metrics used to construct the site graph are tagged with these labels and therefore\nthe metrics can be sliced and diced based on one or more labels listed below.\n\nIndicates the field not being set\nIdentifies a site (CE or RE)","title":"Label","enum":["LABEL_NONE","LABEL_SITE"],"default":"LABEL_NONE","x-displayname":"Label","x-ves-proto-enum":"ves.io.schema.graph.site.Label"},"schemaTrendSentiment":{"type":"string","description":"trend sentiment\n\nIndicates trend sentiment is positive\nIndicates trend sentiment is negative.","title":"Trend Sentiment","enum":["TREND_SENTIMENT_NONE","TREND_SENTIMENT_POSITIVE","TREND_SENTIMENT_NEGATIVE"],"default":"TREND_SENTIMENT_NONE","x-displayname":"Trend Sentiment","x-ves-proto-enum":"ves.io.schema.TrendSentiment"},"schemaTrendValue":{"type":"object","description":"Trend value contains trend value, trend sentiment and trend calculation description and window size.","title":"Trend Value","x-displayname":"Trend Value","x-ves-proto-message":"ves.io.schema.TrendValue","properties":{"description":{"type":"string","description":" description of the method used to calculate trend.\n\nExample: ` \"Trend was calculated by comparing the avg of window size intervals of end-start Time and last window time interval\"`","title":"Description","x-displayname":"Description","x-ves-example":"Trend was calculated by comparing the avg of window size intervals of end-start Time and last window time interval"},"previous_value":{"type":"string","description":"\n\nExample: ` \"200.00\"`","title":"Previous Value","x-displayname":"Previous Value","x-ves-example":"200.00"},"sentiment":{"$ref":"#/components/schemas/schemaTrendSentiment"},"value":{"type":"string","description":"\n\nExample: ` \"-15\"`","title":"Value","x-displayname":"Value","x-ves-example":"-15"}}},"schemaUnitType":{"type":"string","description":"UnitType is enumeration of units for scalar fields","title":"UnitType","enum":["UNIT_MILLISECONDS","UNIT_SECONDS","UNIT_MINUTES","UNIT_HOURS","UNIT_DAYS","UNIT_BYTES","UNIT_KBYTES","UNIT_MBYTES","UNIT_GBYTES","UNIT_TBYTES","UNIT_KIBIBYTES","UNIT_MIBIBYTES","UNIT_GIBIBYTES","UNIT_TEBIBYTES","UNIT_BITS_PER_SECOND","UNIT_BYTES_PER_SECOND","UNIT_KBITS_PER_SECOND","UNIT_KBYTES_PER_SECOND","UNIT_MBITS_PER_SECOND","UNIT_MBYTES_PER_SECOND","UNIT_CONNECTIONS_PER_SECOND","UNIT_ERRORS_PER_SECOND","UNIT_PACKETS_PER_SECOND","UNIT_REQUESTS_PER_SECOND","UNIT_PACKETS","UNIT_PERCENTAGE","UNIT_COUNT"],"default":"UNIT_MILLISECONDS","x-displayname":"Unit","x-ves-proto-enum":"ves.io.schema.UnitType"},"schemagraphMetricType":{"type":"string","description":"List of metric types that are supported for application site and service graph\n\nIndicates field not being set\nx-unit: \"per second\"\nNumber of requests per second\nDeprecated by HTTP_REQUEST_RATE, TCP_CONNECTION_RATE\nx-unit: \"per second\"\nNumber of errors per second\nDeprecated by HTTP_ERROR_RATE, TCP_ERROR_RATE\nx-unit: \"seconds\"\nAverage latency per request\nDeprecated by HTTP_RESPONSE_LATENCY and TCP_CONNECTION_DURATION\nx-unit: \"bits per second (bps)\"\nRequest Throughput\nx-unit: \"bits per second (bps)\"\nResponse Throughput\nx-unit: \"per second\"\nNumber of errors with response code 3XX\nDeprecated\nx-unit: \"per second\"\nNumber of errors with response code 4XX\nDeprecated by HTTP_ERROR_RATE_4XX\nx-unit: \"per second\"\nNumber of errors with response code 5XX\nDeprecated by HTTP_ERROR_RATE_5XX\nx-unit: \"seconds\"\nMax time taken to complete 50% of the requests\nDeprecated by HTTP_RESPONSE_LATENCY_PERCENTILE_50\nx-unit: \"seconds\"\nMax time taken to complete 90% of the requests\nDeprecated by HTTP_RESPONSE_LATENCY_PERCENTILE_90\nx-unit: \"seconds\"\nMax time taken to complete 99% of the requests\nDeprecated by HTTP_RESPONSE_LATENCY_PERCENTILE_99\nDeprecated\nx-unit: \"seconds\"\nAverage Round Trip Time for the client\nx-unit: \"seconds\"\nAverage Round Trip Time for the server\nx-unit: \"seconds\"\nAverage time taken by the server for data transfer\nDeprecated by HTTP_SERVER_DATA_TRANSFER_TIME\nx-unit: \"seconds\"\nAverage time taken by the application to service the request\nDeprecated by HTTP_APP_LATENCY\nx-unit: \"per second\"\nNumber of requests to origin (good requests) per second\nx-unit: \"requests per second\"\nNumber of HTTP requests per second\nx-unit: \"errors per second\"\nNumber of HTTP errors per second\nx-unit: \"errors per second\"\nNumber of HTTP client errors per second\nx-unit: \"errors per second\"\nNumber of HTTP server errors per second\nx-unit: \"seconds\"\nAverage latency per HTTP request\nx-unit: \"seconds\"\nMax time taken to complete 50% of the HTTP requests\nx-unit: \"seconds\"\nMax time taken to complete 90% of the HTTP requests\nx-unit: \"seconds\"\nMax time taken to complete 99% of the HTTP requests\nx-unit: \"seconds\"\nAverage time taken by the server for data transfer\nx-unit: \"seconds\"\nAverage time taken by the application to service the HTTP request\nx-unit: \"connections per second\"\nNumber of TCP connections per second\nx-unit: \"errors per second\"\nNumber of TCP connection errors per second\nx-unit: \"errors per second\"\nNumber of TCP client errors per second\nx-unit: \"errors per second\"\nNumber of TCP server/upstream errors per second\nx-unit: \"seconds\"\nAverage connection duration","title":"Metric Type","enum":["METRIC_TYPE_NONE","REQUEST_RATE","ERROR_RATE","RESPONSE_LATENCY","REQUEST_THROUGHPUT","RESPONSE_THROUGHPUT","ERROR_RATE_3XX","ERROR_RATE_4XX","ERROR_RATE_5XX","RESPONSE_LATENCY_PERCENTILE_50","RESPONSE_LATENCY_PERCENTILE_90","RESPONSE_LATENCY_PERCENTILE_99","RESPONSE_DATA_TRANSFER_DURATION","CLIENT_RTT","SERVER_RTT","SERVER_DATA_TRANSFER_TIME","APP_LATENCY","REQUEST_TO_ORIGIN_RATE","HTTP_REQUEST_RATE","HTTP_ERROR_RATE","HTTP_ERROR_RATE_4XX","HTTP_ERROR_RATE_5XX","HTTP_RESPONSE_LATENCY","HTTP_RESPONSE_LATENCY_PERCENTILE_50","HTTP_RESPONSE_LATENCY_PERCENTILE_90","HTTP_RESPONSE_LATENCY_PERCENTILE_99","HTTP_SERVER_DATA_TRANSFER_TIME","HTTP_APP_LATENCY","TCP_CONNECTION_RATE","TCP_ERROR_RATE","TCP_ERROR_RATE_CLIENT","TCP_ERROR_RATE_UPSTREAM","TCP_CONNECTION_DURATION"],"default":"METRIC_TYPE_NONE","x-displayname":"Metric Type","x-ves-proto-enum":"ves.io.schema.graph.MetricType"},"schemagraphMetricValue":{"type":"object","description":"Each metric value consists of a timestamp and a value.\nTimestamp in the Metric Value is based on the start_time, end_time and step in the request.\nValid values for timestamp are t1=start_time, t2=t1+step, t3=t2+step, ... tn=tn-1+step, where tn <= end_time.\nResponse may not contain values for all timestamps between start_time and end_time.","title":"Metric Value","x-displayname":"Metric Value","x-ves-proto-message":"ves.io.schema.graph.MetricValue","properties":{"timestamp":{"type":"number","description":" UTC timestamp in seconds\n\nExample: ` \"1569528992\"`","title":"Timestamp","format":"double","x-displayname":"Timestamp","x-ves-example":"1569528992"},"trend_value":{"$ref":"#/components/schemas/schemaTrendValue"},"value":{"type":"string","description":" Metric value\n\nExample: ` \"10.6\"`","title":"Value","x-displayname":"Value","x-ves-example":"10.6"}}},"siteEdgeData":{"type":"object","description":"EdgeData wraps all the response data for an edge in the site graph response.","title":"Edge Data","x-displayname":"Edge Data","x-ves-proto-message":"ves.io.schema.graph.site.EdgeData","properties":{"data":{"$ref":"#/components/schemas/siteEdgeFieldData"},"dst_id":{"$ref":"#/components/schemas/siteId"},"src_id":{"$ref":"#/components/schemas/siteId"}}},"siteEdgeFieldData":{"type":"object","description":"EdgeFieldData wraps all the metric and the healthscore data for an edge.","title":"Edge Field data","x-displayname":"Edge Field Data","x-ves-proto-message":"ves.io.schema.graph.site.EdgeFieldData","properties":{"healthscore":{"$ref":"#/components/schemas/graphHealthscoreData"},"metric":{"$ref":"#/components/schemas/graphEdgeMetricData"}}},"siteEdgeFieldSelector":{"type":"object","description":"EdgeFieldSelector is used to specify the list of fields that should be returned per edge in the response.","title":"Edge Field Selector","x-displayname":"Edge Field Selector","x-ves-proto-message":"ves.io.schema.graph.site.EdgeFieldSelector","properties":{"healthscore":{"$ref":"#/components/schemas/graphHealthscoreSelector"},"metric":{"$ref":"#/components/schemas/graphEdgeMetricSelector"}}},"siteEdgeRequest":{"type":"object","description":"Request to get the time-series data for an edge in the site graph.\nWhile graph/site API is used to get application traffic for all sites,\nwhere each node and edge contains the aggregated value for each field;\ngraph/site/edge API is used to get the time-series data (drill-down of aggregated data)\nfor each field.","title":"Site Edge Request","x-displayname":"Site Edge Request","x-ves-proto-message":"ves.io.schema.graph.site.EdgeRequest","properties":{"dst_id":{"$ref":"#/components/schemas/siteId"},"end_time":{"type":"string","description":" end time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the end_time will be evaluated to start_time+10m\n           If start_time is not specified, then the end_time will be evaluated to <current time>\n\nExample: ` \"1570197600\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"End time","x-displayname":"End Time","x-ves-example":"1570197600","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"field_selector":{"$ref":"#/components/schemas/siteEdgeFieldSelector"},"namespace":{"type":"string","description":" namespace is used to scope the application traffic to a given namespace.\n For system namespace, application traffic across all namespaces for the\n tenant will be considered.\n\nExample: ` \"value\"`","title":"Namespace","x-displayname":"Namespace","x-ves-example":"value"},"range":{"type":"string","description":" range decides how far to go back in time to fetch values for each step.\n For example, if the range is 5m, then for step t1, query will be evaluated for t1-5m and for\n t2, query will be evaluated for t2-5m and so on.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Note: For non-timeseries query, i.e., for step=end_time-start_time, range should be set to end_time-start_time\n\n Optional: If not specified, range is set to 5m\n\nExample: ` \"10m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"Range","x-displayname":"Range","x-ves-example":"10m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}},"src_id":{"$ref":"#/components/schemas/siteId"},"start_time":{"type":"string","description":" start time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the start_time will be evaluated to end_time-10m\n           If end_time is not specified, then the start_time will be evaluated to <current time>-10m\n\nExample: ` \"1570194000\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"Start time","x-displayname":"Start Time","x-ves-example":"1570194000","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"step":{"type":"string","description":" step is the resolution width, which determines the number of the data points [x-axis (time)] to be returned in the response.\n The timestamps in the response will be t1=start_time, t2=t1+step, ... tn=tn-1+step, where tn <= end_time.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Optional: If not specified, then step size is evaluated to <end_time - start_time>\n\nExample: ` \"5m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_step: true\n","title":"Step","x-displayname":"Step","x-ves-example":"5m","x-ves-validation-rules":{"ves.io.schema.rules.string.query_step":"true"}}}},"siteEdgeResponse":{"type":"object","description":"Response for graph/site/edge API returns the time-series data for the site edge specified in the request.","title":"Site Edge Response","x-displayname":"Site Edge Response","x-ves-proto-message":"ves.io.schema.graph.site.EdgeResponse","properties":{"data":{"$ref":"#/components/schemas/siteEdgeFieldData"},"step":{"type":"string","description":" Actual step size used in the response. It could be higher than the requested step due to metric rollups and the query duration.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\nExample: ` \"30m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"step","x-displayname":"Step","x-ves-example":"30m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}}}},"siteFieldSelector":{"type":"object","description":"FieldSelector is used to specify the list of fields to be returned in the response for site graph.","title":"Field Selector","x-displayname":"Field Selector","x-ves-proto-message":"ves.io.schema.graph.site.FieldSelector","properties":{"edge":{"$ref":"#/components/schemas/siteEdgeFieldSelector"},"node":{"$ref":"#/components/schemas/siteNodeFieldSelector"}}},"siteGraphData":{"type":"object","description":"GraphData wraps the response for the site graph request that contains\nall the nodes and the edges. Each node contains the application traffic\nflowing from/to site and each edge contains the application traffic flowing\nfrom/to the source site and the destination site.","title":"Graph Data","x-displayname":"Graph Data","x-ves-proto-message":"ves.io.schema.graph.site.GraphData","properties":{"edges":{"type":"array","description":" List of edges in the site graph. Each edge contains the application traffic\n flowing from/to the source site and the destination site.","title":"Edges","items":{"$ref":"#/components/schemas/siteEdgeData"},"x-displayname":"Edges"},"nodes":{"type":"array","description":" List of nodes in the site graph. Each node contains the application traffic\n flowing from/to the site.","title":"Nodes","items":{"$ref":"#/components/schemas/siteNodeData"},"x-displayname":"Nodes"}}},"siteId":{"type":"object","description":"Id uniquely identifies a node or an edge in the site graph.","title":"Id","x-displayname":"Id","x-ves-proto-message":"ves.io.schema.graph.site.Id","properties":{"site":{"type":"string","description":" Name of the site\n\nExample: ` \"ce01\"`","title":"Site","x-displayname":"Site","x-ves-example":"ce01"}}},"siteIdField":{"type":"string","description":"IdField is used to select one or more fields that uniquely identifies\na node or an edge in the site graph.\n\nIndicates the field not being set\nIdentifies a site (CE or RE)","title":"Id Field","enum":["NONE","SITE"],"default":"NONE","x-displayname":"Id Field","x-ves-proto-enum":"ves.io.schema.graph.site.IdField"},"siteLabelFilter":{"type":"object","description":"Metrics used to render the site graph are tagged with labels listed in the enum Label.\nLabel Filter is used to filter the timeseries that match the specified label key/value\nand the operator.","title":"Label Filter","x-displayname":"Label Filter","x-ves-proto-message":"ves.io.schema.graph.site.LabelFilter","properties":{"label":{"$ref":"#/components/schemas/graphsiteLabel"},"op":{"$ref":"#/components/schemas/graphQueryOp"},"value":{"type":"string","description":" Value of the label\n\nExample: ` \"ce01\"`","title":"Value","x-displayname":"Value","x-ves-example":"ce01"}}},"siteNodeData":{"type":"object","description":"NodeData wraps all the response data for a node in the site graph response.","title":"Node Data","x-displayname":"Node Data","x-ves-proto-message":"ves.io.schema.graph.site.NodeData","properties":{"data":{"$ref":"#/components/schemas/siteNodeFieldData"},"id":{"$ref":"#/components/schemas/siteId"}}},"siteNodeFieldData":{"type":"object","description":"NodeFieldData wraps all the metric and the healthscore data for a node.","title":"Node Field data","x-displayname":"Node Field Data","x-ves-proto-message":"ves.io.schema.graph.site.NodeFieldData","properties":{"healthscore":{"$ref":"#/components/schemas/graphHealthscoreData"},"metric":{"$ref":"#/components/schemas/graphNodeMetricData"}}},"siteNodeFieldSelector":{"type":"object","description":"NodeFieldSelector is used to specify the list of fields that should be returned per node in the response.","title":"Node Field Selector","x-displayname":"Node Field Selector","x-ves-proto-message":"ves.io.schema.graph.site.NodeFieldSelector","properties":{"healthscore":{"$ref":"#/components/schemas/graphHealthscoreSelector"},"metric":{"$ref":"#/components/schemas/graphNodeMetricSelector"}}},"siteNodeRequest":{"type":"object","description":"Request to get time-series data for a node in the site graph.\nWhile graph/site API is used to get application traffic for all sites,\nwhere each node and edge contains the aggregated value for each field;\ngraph/site/node API is used to get the time-series data (drill-down of aggregated data)\nfor each field.","title":"Site Node Request","x-displayname":"Site Node Request","x-ves-proto-message":"ves.io.schema.graph.site.NodeRequest","properties":{"end_time":{"type":"string","description":" end time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the end_time will be evaluated to start_time+10m\n           If start_time is not specified, then the end_time will be evaluated to <current time>\n\nExample: ` \"1570197600\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"End time","x-displayname":"End Time","x-ves-example":"1570197600","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"field_selector":{"$ref":"#/components/schemas/siteNodeFieldSelector"},"id":{"$ref":"#/components/schemas/siteId"},"namespace":{"type":"string","description":" namespace is used to scope the application traffic to a given namespace.\n For system namespace, application traffic across all namespaces for the\n tenant will be considered.\n\nExample: ` \"value\"`","title":"Namespace","x-displayname":"Namespace","x-ves-example":"value"},"range":{"type":"string","description":" range decides how far to go back in time to fetch values for each step.\n For example, if the range is 5m, then for step t1, query will be evaluated for t1-5m and for\n t2, query will be evaluated for t2-5m and so on.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Note: For non-timeseries query, i.e., for step=end_time-start_time, range should be set to end_time-start_time\n\n Optional: If not specified, range is set to 5m\n\nExample: ` \"10m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"Range","x-displayname":"Range","x-ves-example":"10m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}},"start_time":{"type":"string","description":" start time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the start_time will be evaluated to end_time-10m\n           If end_time is not specified, then the start_time will be evaluated to <current time>-10m\n\nExample: ` \"1570194000\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"Start time","x-displayname":"Start Time","x-ves-example":"1570194000","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"step":{"type":"string","description":" step is the resolution width, which determines the number of the data points [x-axis (time)] to be returned in the response.\n The timestamps in the response will be t1=start_time, t2=t1+step, ... tn=tn-1+step, where tn <= end_time.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Optional: If not specified, then step size is evaluated to <end_time - start_time>\n\nExample: ` \"5m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_step: true\n","title":"Step","x-displayname":"Step","x-ves-example":"5m","x-ves-validation-rules":{"ves.io.schema.rules.string.query_step":"true"}}}},"siteNodeResponse":{"type":"object","description":"Response for graph/site/node request returns the time-series data for the site\nspecified in the request.","title":"Site Node Response","x-displayname":"Site Node Response","x-ves-proto-message":"ves.io.schema.graph.site.NodeResponse","properties":{"data":{"$ref":"#/components/schemas/siteNodeFieldData"},"step":{"type":"string","description":" Actual step size used in the response. It could be higher than the requested step due to metric rollups and the query duration.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\nExample: ` \"30m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"step","x-displayname":"Step","x-ves-example":"30m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}}}},"siteRequest":{"type":"object","description":"graph/site API is used to get intra-site and inter-site graph for application traffic.","title":"Site Graph Request","x-displayname":"Site Graph Request","x-ves-proto-message":"ves.io.schema.graph.site.Request","properties":{"end_time":{"type":"string","description":" end time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the end_time will be evaluated to start_time+10m\n           If start_time is not specified, then the end_time will be evaluated to <current time>\n\nExample: ` \"1570197600\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"End time","x-displayname":"End Time","x-ves-example":"1570197600","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"field_selector":{"$ref":"#/components/schemas/siteFieldSelector"},"group_by":{"type":"array","description":" Aggregate data by site.\n Optional: If not specified, then the data is aggregated/grouped by site.","title":"Group by","items":{"$ref":"#/components/schemas/siteIdField"},"x-displayname":"Group By"},"label_filter":{"type":"array","description":" List of label filter expressions of the form \"label key\" QueryOp \"value\".\n Response will only contain data that matches all the conditions specified in the label_filter.\n\n Optional: If not specified, application traffic for all sites will be returned in the response. ","title":"Label Filter","items":{"$ref":"#/components/schemas/siteLabelFilter"},"x-displayname":"Label Filter"},"namespace":{"type":"string","description":" namespace is used to scope the application traffic to a given namespace.\n For system namespace, application traffic across all namespaces for the\n tenant will be considered.\n\nExample: ` \"value\"`","title":"Namespace","x-displayname":"Namespace","x-ves-example":"value"},"range":{"type":"string","description":" range decides how far to go back in time to fetch values for each step.\n For example, if the range is 5m, then for step t1, query will be evaluated for t1-5m and for\n t2, query will be evaluated for t2-5m and so on.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Note: For non-timeseries query, i.e., for step=end_time-start_time, range should be set to end_time-start_time\n\n Optional: If not specified, range is set to 5m\n\nExample: ` \"10m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"Range","x-displayname":"Range","x-ves-example":"10m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}},"start_time":{"type":"string","description":"\n start time of metric collection from which data will be considered to build graph.\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the start_time will be evaluated to end_time-10m\n           If end_time is not specified, then the start_time will be evaluated to <current time>-10m\n\nExample: ` \"1570194000\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"Start time","x-displayname":"Start Time","x-ves-example":"1570194000","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"step":{"type":"string","description":" step is the resolution width, which determines the number of the data points [x-axis (time)] to be returned in the response.\n The timestamps in the response will be t1=start_time, t2=t1+step, ... tn=tn-1+step, where tn <= end_time.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\n Optional: If not specified, then step size is evaluated to <end_time - start_time>\n\nExample: ` \"5m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_step: true\n","title":"Step","x-displayname":"Step","x-ves-example":"5m","x-ves-validation-rules":{"ves.io.schema.rules.string.query_step":"true"}}}},"siteResponse":{"type":"object","description":"Response for graph/site API contains list of nodes and edges.\nEach node contains application traffic flowing from/to site.\nEach edge contains application traffic flowing from src site to dst site.","title":"Site Graph Response","x-displayname":"Site Graph Response","x-ves-proto-message":"ves.io.schema.graph.site.Response","properties":{"data":{"$ref":"#/components/schemas/siteGraphData"},"step":{"type":"string","description":" Actual step size used in the response. It could be higher than the requested step due to metric rollups and the query duration.\n Format: [0-9][smhd], where s - seconds, m - minutes, h - hours, d - days\n\nExample: ` \"30m\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.time_interval: true\n","title":"step","x-displayname":"Step","x-ves-example":"30m","x-ves-validation-rules":{"ves.io.schema.rules.string.time_interval":"true"}}}},"timeseriesTimeseriesFeature":{"type":"string","description":"Various Timeseries Features that can be enabled\n\nDo not enable any feature\nEnable calculating confidence interval, upper and lower bound time series where metric is expected to vary.\ndetect anomalies and generate alarm when metric goes out of confidence interval\ndetect trend of the metric\nIndicate a score between 0 to 100 which indicates if the metric is healthy","title":"Timeseries","enum":["TIMESERIES_FEATURE_NONE","CONFIDENCE_INTERVAL","ANOMALY_DETECTION","TREND","HEALTHSCORE"],"default":"TIMESERIES_FEATURE_NONE","x-displayname":"Timeseries","x-ves-proto-enum":"ves.io.schema.timeseries.TimeseriesFeature"}}}}
