{"openapi":"3.0.0","info":{"title":"F5 Distributed Cloud Services API for ves.io.schema.upgrade_status","description":"Upgrade status custom APIs","version":""},"paths":{"/api/maurice/namespaces/{namespace}/sites/{name}/pre_upgrade_check":{"get":{"summary":"Pre upgrade check","description":"API to check if site is ready for upgrade","operationId":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi.PreUpgradeCheck","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/upgrade_statusPreUpgradeCheckResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"namespace\n\nx-example: \"shared\"\nFetch upgrade status for the given namespace","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}},{"name":"name","description":"name\n\nx-example: \"blogging-app\"\nFetch upgrade status for the name of site","in":"path","required":true,"x-displayname":"Site Name","schema":{"type":"string"}},{"name":"sw_version","description":"x-example: \"crt-20241107-1123\"\nSoftware version to upgrade to","in":"query","required":false,"x-displayname":"SW Version to upgrade to","schema":{"type":"string"}}],"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-upgrade_status-upgradestatuscustomapi-preupgradecheck"},"x-ves-proto-rpc":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi.PreUpgradeCheck"},"x-displayname":"Upgrade Status","x-ves-proto-service":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/maurice/namespaces/{namespace}/sites/{name}/upgrade_status":{"get":{"summary":"Get Upgrade Status","description":"API to get upgrade status of a site","operationId":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi.GetUpgradeStatus","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/upgrade_statusGetUpgradeStatusResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"namespace","description":"namespace\n\nx-example: \"shared\"\nFetch upgrade status for the given namespace","in":"path","required":true,"x-displayname":"Namespace","schema":{"type":"string"}},{"name":"name","description":"name\n\nx-example: \"blogging-app\"\nFetch upgrade status for the name of site","in":"path","required":true,"x-displayname":"Site Name","schema":{"type":"string"}}],"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-upgrade_status-upgradestatuscustomapi-getupgradestatus"},"x-ves-proto-rpc":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi.GetUpgradeStatus"},"x-displayname":"Upgrade Status","x-ves-proto-service":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/maurice/upgradable_sw_versions":{"get":{"summary":"Get Upgradable SW Versions","description":"API to get list of sw versions that can be upgraded to","operationId":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi.GetUpgradableSWVersions","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/upgrade_statusGetUpgradableSWVersionsResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"parameters":[{"name":"current_os_version","description":"x-example: \"9.2023.23\"\nFetch upgradable sw versions for site","in":"query","required":false,"x-displayname":"Current OS Version","schema":{"type":"string"}},{"name":"current_sw_version","description":"x-example: \"crt-20241107-1123\"\nFetch upgradable sw versions for site","in":"query","required":false,"x-displayname":"Current SW Version","schema":{"type":"string"}}],"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-upgrade_status-upgradestatuscustomapi-getupgradableswversions"},"x-ves-proto-rpc":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi.GetUpgradableSWVersions"},"x-displayname":"Upgrade Status","x-ves-proto-service":"ves.io.schema.upgrade_status.UpgradeStatusCustomApi","x-ves-proto-service-type":"CUSTOM_PUBLIC"}},"x-displayname":"Upgrade Status","x-ves-proto-package":"ves.io.schema.upgrade_status","components":{"schemas":{"schemaupgrade_statusGlobalSpecType":{"type":"object","title":"Shape of the status specification","x-displayname":"Global Specification","x-ves-proto-message":"ves.io.schema.upgrade_status.GlobalSpecType","properties":{"sw_upgrade_progress":{"$ref":"#/components/schemas/upgrade_statusSWUpgradeProgress"}}},"upgrade_statusApplicationObj":{"type":"object","description":"ApplicationObj shows the upgrade status of each object in a application in either site/node level upgrades","title":"ApplicationObj","x-displayname":"Application Object","x-ves-proto-message":"ves.io.schema.upgrade_status.ApplicationObj","properties":{"conditions":{"type":"array","title":"x-displayName: \"Conditions\"\nname of object","items":{"$ref":"#/components/schemas/upgrade_statusCondition"}},"debug":{"type":"string","title":"x-displayName: \"Name\"\ndebug? TODO: What is this, reference maurice deployment status object"},"deploy_strategy":{"type":"string","title":"x-displayName: \"Deploy Strategy\"\nDeployment strategy of object"},"kind":{"type":"string","title":"x-displayName: \"Kind\"\nKubernetes object kind"},"name":{"type":"string","title":"x-displayName: \"Name\"\nname of object"}}},"upgrade_statusChecklist":{"type":"object","x-ves-proto-message":"ves.io.schema.upgrade_status.Checklist","properties":{"item":{"type":"string","description":" Description of the checklist item\n\nExample: ` \"Node Failures\"`","title":"item","x-displayname":"Item","x-ves-example":"Node Failures"},"reason":{"type":"string","description":" reason for error\n\nExample: ` \"Could not reach one of the nodes.\"`","title":"reason","x-displayname":"Reason","x-ves-example":"Could not reach one of the nodes."},"status":{"$ref":"#/components/schemas/upgrade_statusChecklistStatus"}}},"upgrade_statusChecklistStatus":{"type":"string","description":"Upgrade check is unknown, likely backend issue where it cannot be determined.\nUpgrade check has passed.\nUpgrade check has failed.\nUpgrade check reports warning, but permissible.","enum":["CHECKLIST_UNKNOWN","CHECKLIST_PASSED","CHECKLIST_FAILED","CHECKLIST_WARNING"],"default":"CHECKLIST_UNKNOWN","x-displayname":"","x-ves-proto-enum":"ves.io.schema.upgrade_status.ChecklistStatus"},"upgrade_statusCondition":{"type":"object","description":"Condition of object in each phase of installation","title":"Condition","x-displayname":"Condition","x-ves-proto-message":"ves.io.schema.upgrade_status.Condition","properties":{"message":{"type":"string","description":"Message of action."},"result":{"type":"string","description":"Result of action, i.e. success etc."},"type":{"type":"string","title":"x-displayName: \"Type\"\nType of action to was applied with object, i.e. load, apply, running, status"}}},"upgrade_statusGetUpgradableSWVersionsResponse":{"type":"object","description":"Response to get the list of upgradable sw versions","title":"GetUpgradableSWVersionsResponse","x-displayname":"Get upgradable sw versions reponse","x-ves-proto-message":"ves.io.schema.upgrade_status.GetUpgradableSWVersionsResponse","properties":{"sw_versions":{"type":"array","description":" Fetch upgradable sw versions for site\n\nExample: ` \"[\\\"crt-20241107-1123\\\"]\"`","title":"sw_versions","items":{"type":"string"},"x-displayname":"SW Versions","x-ves-example":"[\\\"crt-20241107-1123\\\"]"}}},"upgrade_statusGetUpgradeStatusResponse":{"type":"object","description":"Response to get the upgrade status","title":"GetUpgradeStatusResponse","x-displayname":"Get upgrade status response","x-ves-proto-message":"ves.io.schema.upgrade_status.GetUpgradeStatusResponse","properties":{"upgrade_status":{"$ref":"#/components/schemas/schemaupgrade_statusGlobalSpecType"}}},"upgrade_statusImageDownload":{"type":"object","description":"ImageDownload shows each the entire image download stage.","title":"ImageDownload","x-displayname":"Image Download Stage","x-ves-proto-message":"ves.io.schema.upgrade_status.ImageDownload","properties":{"results":{"type":"array","description":"Results of each node in OS Setup.","items":{"$ref":"#/components/schemas/upgrade_statusInstallResult"}},"start_timestamp":{"type":"string","description":"Start timestamp of Image download.","format":"date-time"},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}},"upgrade_statusInstallResult":{"type":"object","description":"InstallResult shows the result each application/process.","title":"Install Result","x-displayname":"Install Result","x-ves-proto-message":"ves.io.schema.upgrade_status.InstallResult","properties":{"message":{"type":"string","description":"Message of this stage."},"name":{"type":"string","title":"x-displayName: \"Name\"\nName of this application/process"},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"},"type":{"type":"string","title":"x-displayName: \"Type\"\nType of upgrade"}}},"upgrade_statusNodeLevelUpgrade":{"type":"object","description":"Node level upgrade shows the upgrades that are happening on a site level as opposed to site level.","title":"Node Level Upgrade","x-displayname":"Node Level Upgrade Stage","x-ves-proto-message":"ves.io.schema.upgrade_status.NodeLevelUpgrade","properties":{"results":{"type":"array","title":"x-displayName: \"Results\"\nResults for each stage in site level upgrades","items":{"$ref":"#/components/schemas/upgrade_statusNodeUpgradeResult"}},"start_timestamp":{"type":"string","description":"Start timestamp of Image download.","format":"date-time"},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}},"upgrade_statusNodeUpgradeResult":{"type":"object","x-ves-proto-message":"ves.io.schema.upgrade_status.NodeUpgradeResult","properties":{"name":{"type":"string","description":"Name of node."},"progress":{"$ref":"#/components/schemas/upgrade_statusUpgradeProgressCount"},"results":{"type":"array","title":"x-displayName: \"Results\"\nResults for each node in node level upgrades","items":{"$ref":"#/components/schemas/upgrade_statusStageUpgradeResults"}},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}},"upgrade_statusOSNodeResult":{"type":"object","description":"OSNodeResult shows the result of OS upgrade for each node","title":"OSNodeResult","x-displayname":"OS Node Result","x-ves-proto-message":"ves.io.schema.upgrade_status.OSNodeResult","properties":{"name":{"type":"string","description":"Name of node."},"results":{"type":"array","description":"Result of each component in each node.","items":{"$ref":"#/components/schemas/upgrade_statusInstallResult"}},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}},"upgrade_statusOSSetup":{"type":"object","description":"OSSetup shows the OS Setup stage.","title":"OSSetup","x-displayname":"OS Setup Stage","x-ves-proto-message":"ves.io.schema.upgrade_status.OSSetup","properties":{"results":{"type":"array","description":"Results of each node in OS Setup.","items":{"$ref":"#/components/schemas/upgrade_statusOSNodeResult"}},"start_timestamp":{"type":"string","description":"Start timestamp of OS setup.","format":"date-time"},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}},"upgrade_statusPreUpgradeCheckResponse":{"type":"object","description":"Result of pre upgrade checks","title":"GetUpgradableSWVersionsResponse","x-displayname":"Pre upgrade check response","x-ves-proto-message":"ves.io.schema.upgrade_status.PreUpgradeCheckResponse","properties":{"checklist":{"type":"array","description":" Checklist containing the items for pre upgrade check","title":"checklist","items":{"$ref":"#/components/schemas/upgrade_statusChecklist"},"x-displayname":"Checklist"}}},"upgrade_statusSWUpgradeProgress":{"type":"object","description":"SWStatus stores information about CE Site upgrade status","title":"SW Upgrade status information","x-displayname":"Software Upgrade Status Information","x-ves-proto-message":"ves.io.schema.upgrade_status.SWUpgradeProgress","properties":{"failure_reason":{"type":"string","description":"Reason for failure."},"image_download":{"$ref":"#/components/schemas/upgrade_statusImageDownload"},"node_level_upgrade":{"$ref":"#/components/schemas/upgrade_statusNodeLevelUpgrade"},"os_setup":{"$ref":"#/components/schemas/upgrade_statusOSSetup"},"retries":{"type":"integer","description":"Number of retries that has been issued.","format":"int32"},"site":{"type":"string","description":"Site for this upgrade status, assigned after status is assigned to site."},"site_level_upgrade":{"$ref":"#/components/schemas/upgrade_statusSiteLevelUpgrade"},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"},"validation":{"$ref":"#/components/schemas/upgrade_statusValidation"},"version":{"type":"string","description":"Version that software is upgrading to."}}},"upgrade_statusSiteLevelUpgrade":{"type":"object","description":"Site level upgrade shows the upgrades that are happening on a site level as opposed to node level.","title":"Site Level Upgrade","x-displayname":"Site Level Upgrade Stage","x-ves-proto-message":"ves.io.schema.upgrade_status.SiteLevelUpgrade","properties":{"progress":{"$ref":"#/components/schemas/upgrade_statusUpgradeProgressCount"},"results":{"type":"array","title":"x-displayName: \"Results\"\nResults for each stage in site level upgrades","items":{"$ref":"#/components/schemas/upgrade_statusStageUpgradeResults"}},"start_timestamp":{"type":"string","description":"Start timestamp of Image download.","format":"date-time"},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}},"upgrade_statusStageApplication":{"type":"object","description":"StageApplication shows the upgrade status of each application in either site/node level upgrades","title":"StageApplication","x-displayname":"Stage Application","x-ves-proto-message":"ves.io.schema.upgrade_status.StageApplication","properties":{"name":{"type":"string","description":"Name of stage."},"objects":{"type":"array","title":"x-displayName: \"objects\"\nStatus of application objects in each application","items":{"$ref":"#/components/schemas/upgrade_statusApplicationObj"}},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}},"upgrade_statusStageUpgradeResults":{"type":"object","description":"SiteLevelStageUpgradeResults shows the upgrade status of each stage and applications within the stage","title":"SiteLevelStageUpgradeResults","x-displayname":"Site Level Stage Upgrade Results","x-ves-proto-message":"ves.io.schema.upgrade_status.StageUpgradeResults","properties":{"applications":{"type":"array","title":"x-displayName: \"Applications\"\nStatus of application objects in each application","items":{"$ref":"#/components/schemas/upgrade_statusStageApplication"}},"name":{"type":"string","description":"Name of stage."},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}},"upgrade_statusStatus":{"type":"string","description":"Displays upgrade status for each section of the upgrade.\n\nUpgrade is scheduled but not started\nUpgrade is scheduled but not started\nUpgrade is in progress\nUpgrade has completed\nUpgrade has failed.\nUpgrade for this stage is skipped.","title":"Upgrade status types","enum":["UNKNOWN","SCHEDULED","IN_PROGRESS","COMPLETED","FAILED","SKIPPED"],"default":"UNKNOWN","x-displayname":"Upgrade Status","x-ves-proto-enum":"ves.io.schema.upgrade_status.Status"},"upgrade_statusUpgradeProgressCount":{"type":"object","description":"UpgradeProgressCount counts the total and completed apps that have been upgraded.","title":"UpgradeProgressCount","x-displayname":"Upgrade progress count","x-ves-proto-message":"ves.io.schema.upgrade_status.UpgradeProgressCount","properties":{"completed":{"type":"integer","description":"Number of apps that have been upgraded within a level.","format":"int32"},"total":{"type":"integer","description":"Total number of apps to upgrade.","format":"int32"}}},"upgrade_statusValidation":{"type":"object","description":"Validation represents the last stage in the upgrade phase, checking if everything has been upgraded properly.","title":"Validation","x-displayname":"Validation stage","x-ves-proto-message":"ves.io.schema.upgrade_status.Validation","properties":{"results":{"type":"array","description":"String of messages from validation stage.","items":{"type":"string"}},"start_timestamp":{"type":"string","description":"Start timestamp of Image download.","format":"date-time"},"status":{"$ref":"#/components/schemas/upgrade_statusStatus"}}}}}}