{"openapi":"3.0.0","info":{"title":"F5 Distributed Cloud Services API for ves.io.schema.flow","description":"APIs to get Flow records and data","version":""},"paths":{"/api/config/namespaces/system/flow-collection/addon/subscribe":{"post":{"summary":"Subscribe to Flow Collection","description":"Subscribe to Flow Collection","operationId":"ves.io.schema.flow.CustomFlowConnectionAPI.Subscribe","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowSubscribeResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowSubscribeRequest"}}},"required":true},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-flow-customflowconnectionapi-subscribe"},"x-ves-proto-rpc":"ves.io.schema.flow.CustomFlowConnectionAPI.Subscribe"},"x-displayname":"Flows","x-ves-proto-service":"ves.io.schema.flow.CustomFlowConnectionAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/config/namespaces/system/flow-collection/addon/subscription-status":{"get":{"summary":"Check subscription status for Flow Collection","description":"Check subscription status flow Flow Collection","operationId":"ves.io.schema.flow.CustomFlowConnectionAPI.GetSubscriptionStatus","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowSubscriptionStatusResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-flow-customflowconnectionapi-getsubscriptionstatus"},"x-ves-proto-rpc":"ves.io.schema.flow.CustomFlowConnectionAPI.GetSubscriptionStatus"},"x-displayname":"Flows","x-ves-proto-service":"ves.io.schema.flow.CustomFlowConnectionAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/config/namespaces/system/flow-collection/addon/unsubscribe":{"post":{"summary":"Unsubscribe to Flow Collection","description":"Unsubscribe to Flow Collection","operationId":"ves.io.schema.flow.CustomFlowConnectionAPI.Unsubscribe","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowUnsubscribeResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowUnsubscribeRequest"}}},"required":true},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-flow-customflowconnectionapi-unsubscribe"},"x-ves-proto-rpc":"ves.io.schema.flow.CustomFlowConnectionAPI.Unsubscribe"},"x-displayname":"Flows","x-ves-proto-service":"ves.io.schema.flow.CustomFlowConnectionAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/data/namespaces/system/flows/flow_collection":{"post":{"summary":"Flow Collection","description":"Request to get flow collection from the flow records","operationId":"ves.io.schema.flow.CustomAPI.FlowCollection","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowTopTalkersResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"requestBody":{"$ref":"#/components/requestBodies/flowTopTalkersRequest"},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-flow-customapi-flowcollection"},"x-ves-proto-rpc":"ves.io.schema.flow.CustomAPI.FlowCollection"},"x-displayname":"Flows","x-ves-proto-service":"ves.io.schema.flow.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/data/namespaces/system/flows/top_flow_anomalies":{"post":{"summary":"Flow Anomaly detection","description":"Request to get flow anomaly records","operationId":"ves.io.schema.flow.CustomAPI.TopFlowAnomalies","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowTopFlowAnomaliesResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowTopFlowAnomaliesRequest"}}},"required":true},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-flow-customapi-topflowanomalies"},"x-ves-proto-rpc":"ves.io.schema.flow.CustomAPI.TopFlowAnomalies"},"x-displayname":"Flows","x-ves-proto-service":"ves.io.schema.flow.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/data/namespaces/system/flows/top_talkers":{"post":{"summary":"Top Talkers","description":"Request to get top talkers from the flow records","operationId":"ves.io.schema.flow.CustomAPI.TopTalkers","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowTopTalkersResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"requestBody":{"$ref":"#/components/requestBodies/flowTopTalkersRequest"},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-flow-customapi-toptalkers"},"x-ves-proto-rpc":"ves.io.schema.flow.CustomAPI.TopTalkers"},"x-displayname":"Flows","x-ves-proto-service":"ves.io.schema.flow.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"}},"x-displayname":"Flows","x-ves-proto-package":"ves.io.schema.flow","components":{"requestBodies":{"flowTopTalkersRequest":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/flowTopTalkersRequest"}}},"required":true}},"schemas":{"flowAnomalyData":{"type":"object","description":"Anomaly Data contains key/value pairs that uniquely identifies the group_by labels specified in the request.","x-displayname":"Anomaly Data","x-ves-proto-message":"ves.io.schema.flow.AnomalyData","properties":{"anomalous_data_transferred":{"type":"string","title":"Anomalous data transferred in bytes\nx-displayName: \"Anomalous Data Transferred\"","format":"int64"},"anomaly_duration_seconds":{"type":"string","description":"\n\nExample: ` \"300\"`","title":"Time between anomaly start and last seen time.\nx-displayName: \"Anomaly duration\"\nx-example: \"300\"","format":"int64","x-displayname":"Anomaly duration","x-ves-example":"300"},"anomaly_level":{"$ref":"#/components/schemas/flowAnomalyLevel"},"anomaly_score":{"type":"number","title":"Anomaly Score\nHigher value indicates more a anomalous datapoint.\nx-displayName: \"Anomaly score\"","format":"float","x-displayname":"Anomaly score"},"anomaly_start_time":{"type":"string","description":"\n\nExample: ` \"2021-01-22 15:46:23.767649\"`","title":"Time when the anomaly began.\nx-displayName: \"Anomaly start time\"\nx-example: \"2021-01-22 15:46:23.767649\"","format":"date-time","x-displayname":"Anomaly start time","x-ves-example":"2021-01-22 15:46:23.767649"},"flow_count":{"type":"string","description":"\n\nExample: ` \"100000\"`","title":"Count of anomalous flows\nx-displayName: \"Flow Count\"\nx-example: \"100000\"","format":"int64","x-displayname":"Flow Count","x-ves-example":"100000"},"labels":{"type":"object","title":"Labels with metadata about the anomaly\nKey is the label name defined in the Labels enum.\nx-displayName: \"Labels\"","x-displayname":"Labels"},"scan_time":{"type":"string","description":"\n\nExample: ` \"2021-01-22 15:46:23.767649\"`","title":"Time when the anomaly detection scan was last run.\nx-displayName: \"Scan time\"\nx-example: \"2021-01-22 15:46:23.767649\"","format":"date-time","x-displayname":"Scan time","x-ves-example":"2021-01-22 15:46:23.767649"},"total_data_transferred":{"type":"string","title":"Total data transferred in bytes\nx-displayName: \"Total Data Transferred\"","format":"int64"}}},"flowAnomalyLevel":{"type":"string","title":"- LOW_ANOMALY_LEVEL: x-displayName: \"Low\"\nLow anomaly level\n - MEDIUM_ANOMALY_LEVEL: x-displayName: \"Medium\"\nMedium anomaly level\n - HIGH_ANOMALY_LEVEL: x-displayName: \"High\"\nHigh anomaly level","enum":["LOW_ANOMALY_LEVEL","MEDIUM_ANOMALY_LEVEL","HIGH_ANOMALY_LEVEL"],"default":"LOW_ANOMALY_LEVEL","x-displayname":"","x-ves-proto-enum":"ves.io.schema.flow.AnomalyLevel"},"flowFieldData":{"type":"object","description":"Field Data contains key/value pairs that uniquely identifies the group_by labels specified in the request.","title":"Field Data","x-displayname":"Field Data","x-ves-proto-message":"ves.io.schema.flow.FieldData","properties":{"labels":{"type":"object","description":" Labels contains the name/value pair.\n \"name\" is the label defined in Labels","title":"Labels","x-displayname":"Labels"},"value":{"type":"array","description":" List of metric values.","title":"Value","items":{"$ref":"#/components/schemas/schemaMetricValue"},"x-displayname":"Value"}}},"flowFieldSelector":{"type":"string","description":"Field selector for flow data\n\nx-unit: \"bytes\"\nx-unit: \"packets\"\nx-unit: \"packets\"\nx-unit: \"bytes\"\nx-unit: \"packets\"\nx-unit: \"packets\"\nx-unit: \"count\"","title":"FieldSelector","enum":["BYTES","PACKETS","DROPPED_PACKETS","TX_BYTES","TX_PACKETS","TX_DROPPED_PACKETS","FLOW_COUNT"],"default":"BYTES","x-displayname":"Field selector","x-ves-proto-enum":"ves.io.schema.flow.FieldSelector"},"flowFlowAnomalyData":{"type":"object","title":"FlowAnomalyData wraps the response data for top flow anomalies.\nx-displayName: \"FlowAnomalyData\"","x-displayname":"FlowAnomalyData","x-ves-proto-message":"ves.io.schema.flow.FlowAnomalyData","properties":{"anomaly_data":{"type":"array","title":"x-displayName: \"AnomalyData\"\nAnomaly Data","items":{"$ref":"#/components/schemas/flowAnomalyData"}},"type":{"$ref":"#/components/schemas/flowFieldSelector"}}},"flowFlowData":{"type":"object","description":"FlowData wraps all the response data","title":"FlowData","x-displayname":"FlowData","x-ves-proto-message":"ves.io.schema.flow.FlowData","properties":{"data":{"type":"array","description":" Flows data","title":"Data","items":{"$ref":"#/components/schemas/flowFieldData"},"x-displayname":"Data"},"type":{"$ref":"#/components/schemas/flowFieldSelector"},"unit":{"$ref":"#/components/schemas/schemaUnitType"}}},"flowSortBy":{"type":"object","description":"Sorting for data by given fields","title":"SortBy","x-displayname":"Sort By","x-ves-proto-message":"ves.io.schema.flow.SortBy","properties":{"sort_direction":{"$ref":"#/components/schemas/flowSortDirection"},"sort_label":{"$ref":"#/components/schemas/flowSortLabel"}}},"flowSortDirection":{"type":"string","description":"Sort Direction for sorting data\n\nSort Direction Desc\nby default data is sorted in descending direction\nSort Direction Asc","title":"Sort Direction","enum":["SORT_DIRECTION_DESC","SORT_DIRECTION_ASC"],"default":"SORT_DIRECTION_DESC","x-displayname":"Sort Direction","x-ves-proto-enum":"ves.io.schema.flow.SortDirection"},"flowSortLabel":{"type":"string","description":"Sort Labels for sorting data\n\nSort Label None\nSort Label Bytes\nSort Label Flow Count\nSort Label Anomaly level\nSort Label Anomaly Duration","title":"Sort Label","enum":["SORT_LABEL_NONE","SORT_LABEL_BYTES","SORT_LABEL_FLOW_COUNT","SORT_LABEL_ANOMALY_LEVEL","SORT_LABEL_ANOMALY_DURATION"],"default":"SORT_LABEL_NONE","x-displayname":"Sort Label","x-ves-proto-enum":"ves.io.schema.flow.SortLabel"},"flowSubscribeRequest":{"type":"object","description":"Request to subscribe to Flow Collection","title":"SubscribeRequest","x-displayname":"Subscribe Request","x-ves-proto-message":"ves.io.schema.flow.SubscribeRequest","properties":{"service_type":{"$ref":"#/components/schemas/schemaflowServiceType"}}},"flowSubscribeResponse":{"type":"object","description":"Response of subscribe to Flow Collection","title":"SubscribeResponse","x-displayname":"Subscribe Response","x-ves-proto-message":"ves.io.schema.flow.SubscribeResponse","properties":{"flow_anomaly_detection_last_enabled_time":{"type":"string","description":" Last Enabled Time for flow anomaly detection subscription request.\n\nExample: ` \"2021-01-22 15:46:23.767649\"`","title":"Last Enabled Time","format":"date-time","x-displayname":"Last Enabled Time","x-ves-example":"2021-01-22 15:46:23.767649"},"last_enabled_time":{"type":"string","description":" Last Enabled Time for flow collection subscription request.\n\nExample: ` \"2021-01-22 15:46:23.767649\"`","title":"Last Enabled Time","format":"date-time","x-displayname":"Last Enabled Time","x-ves-example":"2021-01-22 15:46:23.767649"}}},"flowSubscriptionStatusResponse":{"type":"object","description":"Response of subscription status for Flow Collection","title":"SubscriptionStatusResponse","x-displayname":"Subscribe Response","x-ves-proto-message":"ves.io.schema.flow.SubscriptionStatusResponse","properties":{"flow_anomaly_detection_last_enabled_time":{"type":"string","description":" Last Enabled Time for flow anomaly detection subscription request.\n\nExample: ` \"2021-01-22 15:46:23.767649\"`","title":"Last Enabled Time","format":"date-time","x-displayname":"Last Enabled Time","x-ves-example":"2021-01-22 15:46:23.767649"},"flow_anomaly_detection_result":{"$ref":"#/components/schemas/schemaAddonServiceState"},"last_enabled_time":{"type":"string","description":" Last Enabled Time for flow collection subscription request.\n\nExample: ` \"2021-01-22 15:46:23.767649\"`","title":"Last Enabled Time","format":"date-time","x-displayname":"Last Enabled Time","x-ves-example":"2021-01-22 15:46:23.767649"},"result":{"$ref":"#/components/schemas/schemaAddonServiceState"}}},"flowTopFlowAnomaliesRequest":{"type":"object","title":"Top flow anomalies request","x-displayname":"Top flow anomalies request","x-ves-proto-message":"ves.io.schema.flow.TopFlowAnomaliesRequest","properties":{"end_time":{"type":"string","description":" end time of flow collection\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the end_time will be evaluated to start_time+10m\n           If start_time is not specified, then the end_time will be evaluated to <current time>\n\nExample: ` \"1570197600\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"End time","x-displayname":"End Time","x-ves-example":"1570197600","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"field_selector":{"type":"array","description":" Select fields to be returned in the response.\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n  ves.io.schema.rules.repeated.max_items: 8\n  ves.io.schema.rules.repeated.min_items: 1\n  ves.io.schema.rules.repeated.unique: true\n","title":"Field Selector","minItems":1,"maxItems":8,"items":{"$ref":"#/components/schemas/flowFieldSelector"},"x-displayname":"Field Selector","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true","ves.io.schema.rules.repeated.max_items":"8","ves.io.schema.rules.repeated.min_items":"1","ves.io.schema.rules.repeated.unique":"true"}},"filter":{"type":"string","description":" x-example: \"{SITE IN (\"\\site-1\",\\\"site-2\\\")}\"\n filter is used to specify the list of matchers\n syntax for filter := {[<matcher>]}\n <matcher> := <label><operator>\"<value>\"\n   <label> := string\n     One or more labels defined in Label can be specified in the filter.\n   <value> := string\n   <operator> := [\"=\"|\"!=\"]\n     =  : equal to\n     != : not equal to\n\n Optional: If not specified, counter will be aggregated based on the group_by labels. \n\nExample: ` \"{SITE=\\\"site-1\\\"}\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.max_len: 1024\n","title":"Label Filter","maxLength":1024,"x-displayname":"Filter","x-ves-example":"{SITE=\\\"site-1\\\"}","x-ves-validation-rules":{"ves.io.schema.rules.string.max_len":"1024"}},"group_by":{"type":"array","description":" Aggregate data by labels specified in the group_by field\n\nValidation Rules:\n  ves.io.schema.rules.enum.defined_only: true\n  ves.io.schema.rules.repeated.max_items: 20\n","title":"Group by","maxItems":20,"items":{"$ref":"#/components/schemas/schemaflowLabel"},"x-displayname":"Group By","x-ves-validation-rules":{"ves.io.schema.rules.enum.defined_only":"true","ves.io.schema.rules.repeated.max_items":"20"}},"limit":{"type":"integer","description":" Limits the number of results\n\nExample: ` \"5\"`\n\nValidation Rules:\n  ves.io.schema.rules.uint32.gte: 0\n  ves.io.schema.rules.uint32.lte: 1000\n","title":"Limit","format":"int64","x-displayname":"Limit","x-ves-example":"5","x-ves-validation-rules":{"ves.io.schema.rules.uint32.gte":"0","ves.io.schema.rules.uint32.lte":"1000"}},"sort_by":{"type":"array","description":" Sort the data by specified fields, in the given direction","title":"Sort by","items":{"$ref":"#/components/schemas/flowSortBy"},"x-displayname":"Sort By"},"start_time":{"type":"string","description":" start time of flow collection\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the start_time will be evaluated to end_time-10m\n           If end_time is not specified, then the start_time will be evaluated to <current time>-10m\n\nExample: ` \"1570194000\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"Start time","x-displayname":"Start Time","x-ves-example":"1570194000","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}}}},"flowTopFlowAnomaliesResponse":{"type":"object","title":"Top flow anomalies response","x-displayname":"Top Flow Anomalies Response","x-ves-proto-message":"ves.io.schema.flow.TopFlowAnomaliesResponse","properties":{"flowAnomalyData":{"type":"array","description":" FlowAnomalyData wraps the response for flows with anomalies.","title":"FlowAnomalyData","items":{"$ref":"#/components/schemas/flowFlowAnomalyData"},"x-displayname":"FlowAnomalyData"}}},"flowTopTalkersRequest":{"type":"object","title":"Top Talkers Request","x-displayname":"Top Talkers Request","x-ves-proto-message":"ves.io.schema.flow.TopTalkersRequest","properties":{"end_time":{"type":"string","description":" end time of flow collection\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the end_time will be evaluated to start_time+10m\n           If start_time is not specified, then the end_time will be evaluated to <current time>\n\nExample: ` \"1570197600\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"End time","x-displayname":"End Time","x-ves-example":"1570197600","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}},"field_selector":{"type":"array","description":" Select fields to be returned in the response.\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n  ves.io.schema.rules.repeated.max_items: 8\n  ves.io.schema.rules.repeated.min_items: 1\n  ves.io.schema.rules.repeated.unique: true\n","title":"Field Selector","minItems":1,"maxItems":8,"items":{"$ref":"#/components/schemas/flowFieldSelector"},"x-displayname":"Field Selector","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true","ves.io.schema.rules.repeated.max_items":"8","ves.io.schema.rules.repeated.min_items":"1","ves.io.schema.rules.repeated.unique":"true"}},"filter":{"type":"string","description":" x-example: \"{SITE IN (\"\\site-1\",\\\"site-2\\\")}\"\n filter is used to specify the list of matchers\n syntax for filter := {[<matcher>]}\n <matcher> := <label><operator>\"<value>\"\n   <label> := string\n     One or more labels defined in Label can be specified in the filter.\n   <value> := string\n   <operator> := [\"=\"|\"!=\"]\n     =  : equal to\n     != : not equal to\n\n Optional: If not specified, counter will be aggregated based on the group_by labels. \n\nExample: ` \"{SITE=\\\"site-1\\\"}\"`","title":"Label Filter","x-displayname":"Filter","x-ves-example":"{SITE=\\\"site-1\\\"}"},"group_by":{"type":"array","description":" Aggregate data by labels specified in the group_by field","title":"Group by","items":{"$ref":"#/components/schemas/schemaflowLabel"},"x-displayname":"Group By"},"limit":{"type":"integer","description":" Limits the number of results\n\nExample: ` \"5\"`\n\nValidation Rules:\n  ves.io.schema.rules.uint32.gte: 0\n  ves.io.schema.rules.uint32.lte: 20000\n","title":"Limit","format":"int64","x-displayname":"Limit","x-ves-example":"5","x-ves-validation-rules":{"ves.io.schema.rules.uint32.gte":"0","ves.io.schema.rules.uint32.lte":"20000"}},"sort_by":{"type":"array","description":" Sort the data by specified fields, in the given direction","title":"Sort by","items":{"$ref":"#/components/schemas/flowSortBy"},"x-displayname":"Sort By"},"start_time":{"type":"string","description":" start time of flow collection\n Format: unix_timestamp|rfc 3339\n\n Optional: If not specified, then the start_time will be evaluated to end_time-10m\n           If end_time is not specified, then the start_time will be evaluated to <current time>-10m\n\nExample: ` \"1570194000\"`\n\nValidation Rules:\n  ves.io.schema.rules.string.query_time: true\n","title":"Start time","x-displayname":"Start Time","x-ves-example":"1570194000","x-ves-validation-rules":{"ves.io.schema.rules.string.query_time":"true"}}}},"flowTopTalkersResponse":{"type":"object","title":"Top Talkers Response","x-displayname":"Top Talkers Response","x-ves-proto-message":"ves.io.schema.flow.TopTalkersResponse","properties":{"data":{"type":"array","description":" FlowData wraps the response for the flow request. ","title":"FlowData","items":{"$ref":"#/components/schemas/flowFlowData"},"x-displayname":"Data"}}},"flowUnsubscribeRequest":{"type":"object","description":"Request to unsubscribe to Flow Collection","title":"UnsubscribeRequest","x-displayname":"Unsubscribe Request","x-ves-proto-message":"ves.io.schema.flow.UnsubscribeRequest","properties":{"service_type":{"$ref":"#/components/schemas/schemaflowServiceType"}}},"flowUnsubscribeResponse":{"type":"object","description":"Response of unsubscribe to Flow Collection","title":"UnsubscribeResponse","x-displayname":"Unsubscribe Response","x-ves-proto-message":"ves.io.schema.flow.UnsubscribeResponse"},"schemaAddonServiceState":{"type":"string","description":"State of a service\n\ndefault state\ninitiated subscription request and is pending to activate (requested).\nsuccessfully subscribed\nservice subscription request ended up in error state.","title":"AddonServiceState","enum":["AS_NONE","AS_PENDING","AS_SUBSCRIBED","AS_ERROR"],"default":"AS_NONE","x-displayname":"Addon Service State","x-ves-proto-enum":"ves.io.schema.AddonServiceState"},"schemaMetricValue":{"type":"object","description":"Metric data contains timestamp and the value.","title":"Metric Value","x-displayname":"Metric Value","x-ves-proto-message":"ves.io.schema.MetricValue","properties":{"timestamp":{"type":"number","description":" timestamp\n\nExample: ` \"1570007981\"`","title":"Timestamp","format":"double","x-displayname":"Timestamp","x-ves-example":"1570007981"},"trend_value":{"$ref":"#/components/schemas/schemaTrendValue"},"value":{"type":"string","description":"\n\nExample: ` \"15\"`","title":"Value","x-displayname":"Value","x-ves-example":"15"}}},"schemaTrendSentiment":{"type":"string","description":"trend sentiment\n\nIndicates trend sentiment is positive\nIndicates trend sentiment is negative.","title":"Trend Sentiment","enum":["TREND_SENTIMENT_NONE","TREND_SENTIMENT_POSITIVE","TREND_SENTIMENT_NEGATIVE"],"default":"TREND_SENTIMENT_NONE","x-displayname":"Trend Sentiment","x-ves-proto-enum":"ves.io.schema.TrendSentiment"},"schemaTrendValue":{"type":"object","description":"Trend value contains trend value, trend sentiment and trend calculation description and window size.","title":"Trend Value","x-displayname":"Trend Value","x-ves-proto-message":"ves.io.schema.TrendValue","properties":{"description":{"type":"string","description":" description of the method used to calculate trend.\n\nExample: ` \"Trend was calculated by comparing the avg of window size intervals of end-start Time and last window time interval\"`","title":"Description","x-displayname":"Description","x-ves-example":"Trend was calculated by comparing the avg of window size intervals of end-start Time and last window time interval"},"previous_value":{"type":"string","description":"\n\nExample: ` \"200.00\"`","title":"Previous Value","x-displayname":"Previous Value","x-ves-example":"200.00"},"sentiment":{"$ref":"#/components/schemas/schemaTrendSentiment"},"value":{"type":"string","description":"\n\nExample: ` \"-15\"`","title":"Value","x-displayname":"Value","x-ves-example":"-15"}}},"schemaUnitType":{"type":"string","description":"UnitType is enumeration of units for scalar fields","title":"UnitType","enum":["UNIT_MILLISECONDS","UNIT_SECONDS","UNIT_MINUTES","UNIT_HOURS","UNIT_DAYS","UNIT_BYTES","UNIT_KBYTES","UNIT_MBYTES","UNIT_GBYTES","UNIT_TBYTES","UNIT_KIBIBYTES","UNIT_MIBIBYTES","UNIT_GIBIBYTES","UNIT_TEBIBYTES","UNIT_BITS_PER_SECOND","UNIT_BYTES_PER_SECOND","UNIT_KBITS_PER_SECOND","UNIT_KBYTES_PER_SECOND","UNIT_MBITS_PER_SECOND","UNIT_MBYTES_PER_SECOND","UNIT_CONNECTIONS_PER_SECOND","UNIT_ERRORS_PER_SECOND","UNIT_PACKETS_PER_SECOND","UNIT_REQUESTS_PER_SECOND","UNIT_PACKETS","UNIT_PERCENTAGE","UNIT_COUNT"],"default":"UNIT_MILLISECONDS","x-displayname":"Unit","x-ves-proto-enum":"ves.io.schema.UnitType"},"schemaflowLabel":{"type":"string","description":"Labels is used to select one or more fields for the data\n\nIdentifies the site .\nIdentifies the source IP address.\nIdentifies the source port.\nIdentifies the destination IP address.\nIdentifies the destination port.\nIdentifies the protocol.\nIdentifies the application by name.\nNFV Service\nNFV Service instance\nNFV Service instance hostname\nSource Site\nDestination Site\nSource Provider Type\nDestination Provider Type\nSource Subnet\nDestination Subnet\nSource Newtork\nDestination Network\nCloud Connect\nAnomaly Level","title":"Labels","enum":["SITE","SRC_IP","SRC_PORT","DST_IP","DST_PORT","PROTOCOL","APP_NAME","NFV_SERVICE","NFV_SERVICE_INSTANCE","NFV_SERVICE_INSTANCE_HOSTNAME","SRC_SITE","DST_SITE","SRC_PROVIDER_TYPE","DST_PROVIDER_TYPE","SRC_SUBNET","DST_SUBNET","SRC_NETWORK","DST_NETWORK","CLOUD_CONNECT","ANOMALY_LEVEL"],"default":"SITE","x-displayname":"Labels","x-ves-proto-enum":"ves.io.schema.flow.Label"},"schemaflowServiceType":{"type":"string","description":"Service type for subscribing/unsubscribing flow-collection/flow-anomaly-detection\n\nby default flow collection is subscribed/unsubscribed\nFlow Anomaly Detection\nSubscribe/unsubscribe to both flow collection and anomaly detection","title":"Service Type","enum":["FLOW_COLLECTION","FLOW_ANOMALY_DETECTION","FLOW_COLLECTION_AND_ANOMALY_DETECTION"],"default":"FLOW_COLLECTION","x-displayname":"Service Type","x-ves-proto-enum":"ves.io.schema.flow.ServiceType"}}}}