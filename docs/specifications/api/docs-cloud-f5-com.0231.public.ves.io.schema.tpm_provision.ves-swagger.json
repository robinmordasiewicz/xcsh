{"openapi":"3.0.0","info":{"title":"F5 Distributed Cloud Services API for ves.io.schema.tpm_provision","description":"TPM Provisioning APIs used to generate F5XC certificates\nto program device TPM.","version":""},"paths":{"/api/tpm/tpm/preauth":{"post":{"summary":"Preauth","description":"Pre-flight auth checks before calling the Provision API","operationId":"ves.io.schema.tpm_provision.CustomAPI.Preauth","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tpm_provisionPreauthResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tpm_provisionPreauthRequest"}}},"required":true},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-tpm_provision-customapi-preauth"},"x-ves-proto-rpc":"ves.io.schema.tpm_provision.CustomAPI.Preauth"},"x-displayname":"TPM Provisioning","x-ves-proto-service":"ves.io.schema.tpm_provision.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"},"/api/tpm/tpm/provision":{"post":{"summary":"Provision","operationId":"ves.io.schema.tpm_provision.CustomAPI.Provision","responses":{"200":{"description":"A successful response.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/tpm_provisionProvisionResponse"}}}},"401":{"description":"Returned when operation is not authorized","content":{"application/json":{"schema":{"format":"string"}}}},"403":{"description":"Returned when there is no permission to access resource","content":{"application/json":{"schema":{"format":"string"}}}},"404":{"description":"Returned when resource is not found","content":{"application/json":{"schema":{"format":"string"}}}},"409":{"description":"Returned when operation on resource is conflicting with current value","content":{"application/json":{"schema":{"format":"string"}}}},"429":{"description":"Returned when operation has been rejected as it is happening too frequently","content":{"application/json":{"schema":{"format":"string"}}}},"500":{"description":"Returned when server encountered an error in processing API","content":{"application/json":{"schema":{"format":"string"}}}},"503":{"description":"Returned when service is unavailable temporarily","content":{"application/json":{"schema":{"format":"string"}}}},"504":{"description":"Returned when server timed out processing request","content":{"application/json":{"schema":{"format":"string"}}}}},"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/tpm_provisionProvisionRequest"}}},"required":true},"externalDocs":{"description":"Examples of this operation","url":"https://docs.cloud.f5.com/docs-v2/platform/reference/api-ref/ves-io-schema-tpm_provision-customapi-provision"},"x-ves-proto-rpc":"ves.io.schema.tpm_provision.CustomAPI.Provision"},"x-displayname":"TPM Provisioning","x-ves-proto-service":"ves.io.schema.tpm_provision.CustomAPI","x-ves-proto-service-type":"CUSTOM_PUBLIC"}},"x-displayname":"TPM Provisioning","x-ves-proto-package":"ves.io.schema.tpm_provision","components":{"schemas":{"tpm_provisionDeviceInfo":{"type":"object","description":"DeviceInfo defines device parameters like Serial-Number to include\nin the TPM provisioning data","title":"TPM Device Info","x-displayname":"Device Info","x-ves-proto-message":"ves.io.schema.tpm_provision.DeviceInfo","properties":{"name":{"type":"string","description":" Device Name\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"Device Name","x-displayname":"Device Name","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}},"serial":{"type":"string","description":" Serial Number\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"Serial Number of the device","x-displayname":"Serial Number","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}},"vendor":{"type":"string","description":" Device Vendor\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"Device Vendor","x-displayname":"Device Vendor","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}},"version":{"type":"string","description":" Device Version\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"Device Version","x-displayname":"Device Version","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}}}},"tpm_provisionPreauthRequest":{"type":"object","description":"PreauthRequest defines parameters required for pre-flight auth checks\nbefore using the TPM Provisioning API key.","title":"Preauth TPM Provisioning Request","x-displayname":"Preauthorization Request for TPM Provisioning","x-ves-proto-message":"ves.io.schema.tpm_provision.PreauthRequest","properties":{"api_key":{"type":"string","description":" API Key allocated to TPM Provisioning (manufacturing) user\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"TPM Provisioning Client API Key","x-displayname":"TPM Provisioning Client API Key","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}},"device":{"$ref":"#/components/schemas/tpm_provisionDeviceInfo"}}},"tpm_provisionPreauthResponse":{"type":"object","description":"PreauthResponse defines the preauthorization response","title":"Preauth TPM Provisioning Response","x-displayname":"Preauthorization Response for TPM Provisioning","x-ves-proto-message":"ves.io.schema.tpm_provision.PreauthResponse","properties":{"status":{"$ref":"#/components/schemas/tpm_provisionPreauthResponseStatus"}}},"tpm_provisionPreauthResponseStatus":{"type":"string","description":"This is the status code options for Preauthorization Response\n\n - PREAUTH_RSP_SUCCESS: Preauth status - success, both api_key and device_info are valid\n - PREAUTH_RSP_INVALID_API_KEY: Preauth status - api_key is invalid\n - PREAUTH_RSP_INVALID_DEVICE_INFO: Preauth status - device info is invalid","title":"PreauthReponseStatus is the code used in PreauthResponse status","enum":["PREAUTH_RSP_SUCCESS","PREAUTH_RSP_INVALID_API_KEY","PREAUTH_RSP_INVALID_DEVICE_INFO"],"default":"PREAUTH_RSP_SUCCESS","x-displayname":"Preauth Response Status","x-ves-proto-enum":"ves.io.schema.tpm_provision.PreauthResponseStatus"},"tpm_provisionProvisionRequest":{"type":"object","description":"ProvisionReq defines parameters required for TPM Provisioning Request API.","title":"TPM Provisioning Request","x-displayname":"Provisioning Request","x-ves-proto-message":"ves.io.schema.tpm_provision.ProvisionRequest","properties":{"ak_pub_key":{"type":"string","description":" TPM AK Public Key in DER format\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"TPM Provisioning AK Public Key","x-displayname":"TPM Attestation Key (AK) Public Key","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}},"api_key":{"type":"string","description":" API Key allocated to TPM Provisioning (manufacturing) user\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"TPM Provisioning Client API Key","x-displayname":"TPM Provisioning Client API Key","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}},"csr":{"type":"string","description":" Signing request from the manufacturing plant for device TPM provisioning\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"TPM Provisioning Certificate Signing Request","x-displayname":"TPM Provisioning Certificate Signing Request","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}},"device":{"$ref":"#/components/schemas/tpm_provisionDeviceInfo"},"ek_cert":{"type":"string","description":" TPM EK Certificate in DER format\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"TPM Provisioning Endorsement Key (EK) Certificate","x-displayname":"TPM Endorsement Key (EK) Certificate","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}},"ek_pub_key":{"type":"string","description":" TPM EK Public Key in DER format\n\nExample: ` \"value\"`\n\nRequired: YES\n\nValidation Rules:\n  ves.io.schema.rules.message.required: true\n","title":"TPM Provisioning Endorsement Key (EK) Public Key","x-displayname":"TPM Endorsement Key (EK) Public Key","x-ves-example":"value","x-ves-required":"true","x-ves-validation-rules":{"ves.io.schema.rules.message.required":"true"}}}},"tpm_provisionProvisionResponse":{"type":"object","title":"TPM Provisioning Response","x-displayname":"Provisioning Response","x-ves-proto-message":"ves.io.schema.tpm_provision.ProvisionResponse","properties":{"credential_bundle":{"type":"string","description":" TPM Credential bundle used to decrypt the encrypted AK certificate\n\nExample: ` \"value\"`","title":"TPM Credential Bundle","x-displayname":"TPM Credential Bundle","x-ves-example":"value"},"encrypted_ak_cert":{"type":"string","description":" AK Certificate signed by the TPM CA and encrypted according to TPM 2.0 spec\n\nExample: ` \"value\"`","title":"Encrypted TPM AK Certificate","x-displayname":"TPM AK Certificate","x-ves-example":"value"},"nonce":{"type":"string","description":" Nonce used to encrypt the AK certificate\n\nExample: ` \"value\"`","title":"TPM Encryption Nonce","x-displayname":"TPM Encryption Nonce","x-ves-example":"value"}}}}}}